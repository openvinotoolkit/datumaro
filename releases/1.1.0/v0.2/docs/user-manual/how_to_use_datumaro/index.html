<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.83.1" /><META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../favicons/android-192x192.png" sizes="192x192">

<title>How to use Datumaro | Dataset Management Framework</title>
<meta name="description" content=""><meta property="og:title" content="How to use Datumaro" />
<meta property="og:description" content="As a standalone tool or a Python module:
datum --help python -m datumaro --help python datumaro/ --help python datum.py --help As a Python library:
from datumaro.components.project import Project from datumaro.components.dataset import Dataset from datumaro.components.extractor import Label, Bbox, DatasetItem ... dataset = Dataset.import_from(path, format) ... Glossary   Basic concepts:
 Dataset - A collection of dataset items, which consist of media and associated annotations. Dataset item - A basic single element of the dataset." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/user-manual/how_to_use_datumaro/" /><meta property="article:section" content="docs" />

<meta property="og:site_name" content="Dataset Management Framework" />

<meta itemprop="name" content="How to use Datumaro">
<meta itemprop="description" content="As a standalone tool or a Python module:
datum --help python -m datumaro --help python datumaro/ --help python datum.py --help As a Python library:
from datumaro.components.project import Project from datumaro.components.dataset import Dataset from datumaro.components.extractor import Label, Bbox, DatasetItem ... dataset = Dataset.import_from(path, format) ... Glossary   Basic concepts:
 Dataset - A collection of dataset items, which consist of media and associated annotations. Dataset item - A basic single element of the dataset.">

<meta itemprop="wordCount" content="2497">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to use Datumaro"/>
<meta name="twitter:description" content="As a standalone tool or a Python module:
datum --help python -m datumaro --help python datumaro/ --help python datum.py --help As a Python library:
from datumaro.components.project import Project from datumaro.components.dataset import Dataset from datumaro.components.extractor import Label, Bbox, DatasetItem ... dataset = Dataset.import_from(path, format) ... Glossary   Basic concepts:
 Dataset - A collection of dataset items, which consist of media and associated annotations. Dataset item - A basic single element of the dataset."/>




<link rel="preload" href="../../../scss/main.min.7739044bd284ace8b77f1ace79422fd408a2224eb69c6b8d48ef94dde2a179d5.css" as="style">
<link href="../../../scss/main.min.7739044bd284ace8b77f1ace79422fd408a2224eb69c6b8d48ef94dde2a179d5.css" rel="stylesheet" integrity="">


<script
  src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>






<link rel="stylesheet" href="../../../css/prism.css"/>




  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="../../../docs">
    <span class="navbar-logo"></span><span class="font-weight-bold">Dataset Management Framework</span>
  </a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      
      
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          
          
          
          
          
          
          <a class="nav-link" href="https://github.com/openvinotoolkit/datumaro"  ><i class='fab fa-github'></i><span>GitHub</span></a>
        </li>
      
        <li class="nav-item mr-4 mb-2 mb-lg-0" id="api">
          <a class="nav-link" href="../../../api">API documentation</a>
        </li>
      
        <li class="nav-item dropdown mr-4 d-lg-block">
          

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  v0.2
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
  
    
      <a class="dropdown-item" href="../../../../docs/user-manual/how_to_use_datumaro/">develop</a>
  
    
      <a class="dropdown-item" href="../../../../v0.1.11/docs/user-manual/how_to_use_datumaro/">v0.1.11</a>
  
    
      <a class="dropdown-item" href="../../../../v0.2/docs/user-manual/how_to_use_datumaro/">v0.2</a>
  
    
      <a class="dropdown-item" href="../../../../v0.2.1/docs/user-manual/how_to_use_datumaro/">v0.2.1</a>
  
    
      <a class="dropdown-item" href="../../../../v0.2.2/docs/user-manual/how_to_use_datumaro/">v0.2.2</a>
  
    
      <a class="dropdown-item" href="../../../../v0.2.3/docs/user-manual/how_to_use_datumaro/">v0.2.3</a>
  
    
      <a class="dropdown-item" href="../../../../v0.3/docs/user-manual/how_to_use_datumaro/">v0.3</a>
  
    
      <a class="dropdown-item" href="../../../../v0.3.1/docs/user-manual/how_to_use_datumaro/">v0.3.1</a>
  
    
      <a class="dropdown-item" href="../../../../v0.4.0.1/docs/user-manual/how_to_use_datumaro/">v0.4.0.1</a>
  
    
      <a class="dropdown-item" href="../../../../v0.5.0/docs/user-manual/how_to_use_datumaro/">v0.5.0</a>
  
    
      <a class="dropdown-item" href="../../../../v1.0.0/docs/user-manual/how_to_use_datumaro/">v1.0.0</a>
  
    
      <a class="dropdown-item" href="../../../../v1.1.0/docs/user-manual/how_to_use_datumaro/">v1.1.0</a>
  
    
      <a class="dropdown-item" href="../../../../v1.1.1/docs/user-manual/how_to_use_datumaro/">v1.1.1</a>
  
</div>

        </li>
      
      
    </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../../offline-search-index.3081fde025883008c3fe1144157eb345.json"
  data-offline-search-base-href="../../../"
  data-offline-search-max-results="10"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <div id="content-mobile">
  <form class="td-sidebar__search d-flex align-items-center">
    



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../../offline-search-index.3081fde025883008c3fe1144157eb345.json"
  data-offline-search-base-href="../../../"
  data-offline-search-max-results="10"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  </div>
  <div id="content-desktop"></div>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docs-li">
  <a href="../../../docs/" title="Dataset Management Framework Documentation" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsgetting_started-li">
  <a href="../../../docs/getting_started/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsgetting_started"><span class="">Getting started</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdesign-li">
  <a href="../../../docs/design/" title="Datumaro Design" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsdesign"><span class="">Design</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsuser-manual-li">
  <a href="../../../docs/user-manual/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsuser-manual"><span class="">User Manual</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualinstallation-li">
  <a href="../../../docs/user-manual/installation/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualinstallation"><span class="">Installation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-docsuser-manualhow_to_use_datumaro-li">
  <a href="../../../docs/user-manual/how_to_use_datumaro/" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualhow_to_use_datumaro"><span class="td-sidebar-nav-active-item">How to use Datumaro</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualsupported_formats-li">
  <a href="../../../docs/user-manual/supported_formats/" title="Supported Formats" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualsupported_formats"><span class="">Dataset Formats</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualmedia_formats-li">
  <a href="../../../docs/user-manual/media_formats/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualmedia_formats"><span class="">Media formats</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsuser-manualcommand-reference-li">
  <a href="../../../docs/user-manual/command-reference/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsuser-manualcommand-reference"><span class="">Command reference</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceconvert-li">
  <a href="../../../docs/user-manual/command-reference/convert/" title="Convert datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceconvert"><span class="">Convert</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencecreate-li">
  <a href="../../../docs/user-manual/command-reference/create/" title="Create project" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencecreate"><span class="">Create</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceexport-li">
  <a href="../../../docs/user-manual/command-reference/export/" title="Export Datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceexport"><span class="">Export</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencefilter-li">
  <a href="../../../docs/user-manual/command-reference/filter/" title="Filter datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencefilter"><span class="">Filter</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencemerge-li">
  <a href="../../../docs/user-manual/command-reference/merge/" title="Merge Datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencemerge"><span class="">Merge</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencepatch-li">
  <a href="../../../docs/user-manual/command-reference/patch/" title="Patch Datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencepatch"><span class="">Patch</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencediff-li">
  <a href="../../../docs/user-manual/command-reference/diff/" title="Compare datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencediff"><span class="">Diff</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceinfo-li">
  <a href="../../../docs/user-manual/command-reference/info/" title="Print dataset info" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceinfo"><span class="">Info</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencestats-li">
  <a href="../../../docs/user-manual/command-reference/stats/" title="Get Project Statistics" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencestats"><span class="">Statistics</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencevalidate-li">
  <a href="../../../docs/user-manual/command-reference/validate/" title="Validate Dataset" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencevalidate"><span class="">Validate</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencecommit-li">
  <a href="../../../docs/user-manual/command-reference/commit/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencecommit"><span class="">Commit</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencetransform-li">
  <a href="../../../docs/user-manual/command-reference/transform/" title="Transform Dataset" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencetransform"><span class="">Transform</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencecheckout-li">
  <a href="../../../docs/user-manual/command-reference/checkout/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencecheckout"><span class="">Checkout</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencestatus-li">
  <a href="../../../docs/user-manual/command-reference/status/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencestatus"><span class="">Status</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencelog-li">
  <a href="../../../docs/user-manual/command-reference/log/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencelog"><span class="">Log</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceexplain-li">
  <a href="../../../docs/user-manual/command-reference/explain/" title="Run model inference explanation (explain)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceexplain"><span class="">Explain</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencemodels-li">
  <a href="../../../docs/user-manual/command-reference/models/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencemodels"><span class="">Models</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencesources-li">
  <a href="../../../docs/user-manual/command-reference/sources/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencesources"><span class="">Sources</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceprojects-li">
  <a href="../../../docs/user-manual/command-reference/projects/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceprojects"><span class="">Projects</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualextending-li">
  <a href="../../../docs/user-manual/extending/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualextending"><span class="">Extending</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manuallinks-li">
  <a href="../../../docs/user-manual/links/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manuallinks"><span class="">Links</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualhow_to_control_tm_data_colletion-li">
  <a href="../../../docs/user-manual/how_to_control_tm_data_colletion/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualhow_to_control_tm_data_colletion"><span class="">How to control telemetry data collection</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdeveloper_manual-li">
  <a href="../../../docs/developer_manual/" title="Dataset Management Framework (Datumaro) API and developer manual" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsdeveloper_manual"><span class="">Developer Manual</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsformats-li">
  <a href="../../../docs/formats/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsformats"><span class="">Formats</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsade20k2017-li">
  <a href="../../../docs/formats/ade20k2017/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsade20k2017"><span class="">ADE20k (v2017)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsade20k2020-li">
  <a href="../../../docs/formats/ade20k2020/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsade20k2020"><span class="">ADE20k (v2020)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatscifar-li">
  <a href="../../../docs/formats/cifar/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatscifar"><span class="">CIFAR</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatscityscapes-li">
  <a href="../../../docs/formats/cityscapes/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatscityscapes"><span class="">Cityscapes</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatscoco-li">
  <a href="../../../docs/formats/coco/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatscoco"><span class="">COCO</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsimage_zip-li">
  <a href="../../../docs/formats/image_zip/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsimage_zip"><span class="">Image zip</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatskitti_raw-li">
  <a href="../../../docs/formats/kitti_raw/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatskitti_raw"><span class="">Velodyne Points / KITTI Raw 3D</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatskitti-li">
  <a href="../../../docs/formats/kitti/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatskitti"><span class="">KITTI</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsmnist-li">
  <a href="../../../docs/formats/mnist/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsmnist"><span class="">MNIST</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsopen_images-li">
  <a href="../../../docs/formats/open_images/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsopen_images"><span class="">Open Images</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatspascal_voc-li">
  <a href="../../../docs/formats/pascal_voc/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatspascal_voc"><span class="">Pascal VOC</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatssly_pointcloud-li">
  <a href="../../../docs/formats/sly_pointcloud/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatssly_pointcloud"><span class="">Supervisely Point Cloud</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsyolo-li">
  <a href="../../../docs/formats/yolo/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsyolo"><span class="">YOLO</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsplugins-li">
  <a href="../../../docs/plugins/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsplugins"><span class="">Plugins</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docspluginsopenvino_plugin-li">
  <a href="../../../docs/plugins/openvino_plugin/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docspluginsopenvino_plugin"><span class="">OpenVINO™ Inference Interpreter</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscontributing-li">
  <a href="../../../docs/contributing/" title="Contribution Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscontributing"><span class="">Contributing</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsrelease_notes-li">
  <a href="../../../docs/release_notes/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsrelease_notes"><span class="">Release notes</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
  
  
  
  
  
  
  <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
  
    
    
      
    
    
    
    
    
    
    

    <a href="https://github.com/openvinotoolkit/datumaro/edit/develop/site/content/en/docs/user-manual/how_to_use_datumaro.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
    <a href="https://github.com/openvinotoolkit/datumaro/new/develop/site/content/en/docs/user-manual/how_to_use_datumaro.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" target="_blank"><i class="fa fa-edit fa-fw"></i> Create child page</a>
    <a href="https://github.com/openvinotoolkit/datumaro/issues/new?title=How%20to%20use%20Datumaro" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
    
      
      <a href="https://github.com/openvinotoolkit/datumaro/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
    

  
  
    <a id="print" href="../../../docs/user-manual/_print/"><i class="fa fa-print fa-fw"></i> Print entire section</a>
  
  </div>


            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#glossary">Glossary</a></li>
        <li><a href="#command-line-workflow">Command-line workflow</a></li>
        <li><a href="#project-data-model-a-iddata-modela">Project data model <a id="data-model"></a></a></li>
        <li><a href="#project-layout">Project layout</a></li>
        <li><a href="#datasets-and-data-sources-a-iddata-sourcesa">Datasets and Data Sources <a id="data-sources"></a></a></li>
        <li><a href="#use-cases">Use cases</a></li>
        <li><a href="#examples-a-idcli-examplesa">Examples <a id="cli-examples"></a></a></li>
      </ul>
    </li>
  </ul>
</nav></div>



            

	
		



  
  

	
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="../../../docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="../../../docs/user-manual/">User Manual</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="../../../docs/user-manual/how_to_use_datumaro/">How to use Datumaro</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>How to use Datumaro</h1>
	
	<header class="article-meta">
		
		
			
				


			
				


			
		
		
	</header>    
	<p>As a standalone tool or a Python module:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum --help

python -m datumaro --help
python datumaro/ --help
python datum.py --help
</code></pre></div><p>As a Python library:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.project</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Project</span>
<span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.dataset</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Dataset</span>
<span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.extractor</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Label</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">Bbox</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">DatasetItem</span>
<span style="color:#ce5c00;font-weight:bold">...</span>
<span style="color:#000">dataset</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Dataset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">import_from</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">path</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">format</span><span style="color:#000;font-weight:bold">)</span>
<span style="color:#ce5c00;font-weight:bold">...</span>
</code></pre></div><h3 id="glossary">Glossary</h3>
<ul>
<li>
<p>Basic concepts:</p>
<ul>
<li>Dataset - A collection of dataset items, which consist of media and
associated annotations.</li>
<li>Dataset item - A basic single element of the dataset. Also known as
&ldquo;sample&rdquo;, &ldquo;entry&rdquo;. In different datasets it can be an image, a video
frame, a whole video, a 3d point cloud etc. Typically, has corresponding
annotations.</li>
<li>(Datumaro) Project - A combination of multiple datasets, plugins,
models and metadata.</li>
</ul>
</li>
<li>
<p>Project versioning concepts:</p>
<ul>
<li>Data source - A link to a dataset or a copy of a dataset inside a project.
Basically, a URL + dataset format name.</li>
<li>Project revision - A commit or a reference from Git (branch, tag,
HEAD~3 etc.). A revision is referenced by data hash. The <code>HEAD</code>
revision is the currently selected revision of the project.</li>
<li>Revision tree - A project build tree and plugins at
a specified revision.</li>
<li>Working tree - The revision tree in the working directory of a project.</li>
<li>data source revision - a state of a data source at a specific stage.
A revision is referenced by the data hash.</li>
<li>Object - The data of a revision tree or a data source revision.
An object is referenced by the data hash.</li>
</ul>
</li>
<li>
<p>Dataset path concepts: <a id="revpath"></a></p>
<ul>
<li>
<p>Dataset revpath - A path to a dataset in a special format. They are
supposed to specify paths to files, directories or data source revisions
in a uniform way in the CLI.</p>
<ul>
<li>
<p>dataset path - a path to a dataset in the following format:
<code>&lt;dataset path&gt;:&lt;format&gt;</code></p>
<ul>
<li><code>format</code> is optional. If not specified, will try to detect automatically</li>
</ul>
</li>
<li>
<p><strong>rev</strong>ision path - a path to a data source revision in a project.
The syntax is:
<code>&lt;project path&gt;@&lt;revision&gt;:&lt;target name&gt;</code>, any part can be omitted.</p>
<ul>
<li>Default project is the current project (<code>-p</code>/<code>--project</code> CLI arg.)
Local revpaths imply that the current project is used and this part
should be omitted.</li>
<li>Default revision is the working tree of the project</li>
<li>Default build target is <code>project</code></li>
</ul>
<p>If a path refers to <code>project</code> (i.e. target name is not set, or
this target is exactly specified), the target dataset is the result of
<a href="../../../docs/developer_manual/#merging">joining</a> all the project data sources.
Otherwise, if the path refers to a data source revision, the
corresponding stage from the revision build tree will be used.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Dataset building concepts:</p>
<ul>
<li>Stage - A revision of a dataset - the original dataset or its modification
after transformation, filtration or something else. A build tree node.
A stage is referred by a name.</li>
<li>Build tree - A directed graph (tree) with root nodes at data sources
and a single top node called <code>project</code>, which represents
a <a href="../../../docs/developer_manual/#merging">joined</a> dataset.
Each data source has a starting <code>root</code> node, which corresponds to the
original dataset. The internal graph nodes are stages.</li>
<li>Build target - A data source or a stage name. Data source names correspond
to the last stages of data sources.</li>
<li>Pipeline - A subgraph of a stage, which includes all the ancestors.</li>
</ul>
</li>
<li>
<p>Other:</p>
<ul>
<li>Transform - A transformation operation over dataset elements. Examples
are image renaming, image flipping, image and subset renaming,
label remapping etc. Corresponds to the <a href="../../../docs/user-manual/command-reference/transform"><code>transform</code> command</a>.</li>
</ul>
</li>
</ul>
<h3 id="command-line-workflow">Command-line workflow</h3>
<p>In Datumaro, most command-line commands operate on projects, but there are
also few commands operating on datasets directly. There are 2 basic ways
to use Datumaro from the command-line:</p>
<ul>
<li>
<p>Use the <a href="../../../docs/user-manual/command-reference/convert"><code>convert</code></a>, <a href="../../../docs/user-manual/command-reference/diff"><code>diff</code></a>, <a href="../../../docs/user-manual/command-reference/merge"><code>merge</code></a>
commands directly on existing datasets</p>
</li>
<li>
<p>Create a Datumaro project and operate on it:</p>
<ul>
<li>Create an empty project with <a href="../../../docs/user-manual/command-reference/create"><code>create</code></a></li>
<li>Import existing datasets with <a href="../../../docs/user-manual/command-reference/import"><code>import</code></a></li>
<li>Modify the project with <a href="../../../docs/user-manual/command-reference/transform"><code>transform</code></a> and <a href="../../../docs/user-manual/command-reference/filter"><code>filter</code></a></li>
<li>Create new revisions of the project with
<a href="../../../docs/user-manual/command-reference/commit"><code>commit</code></a>, navigate over
them using <a href="../../../docs/user-manual/command-reference/checkout"><code>checkout</code></a>,
compare with <a href="../../../docs/user-manual/command-reference/diff"><code>diff</code></a>, compute
statistics with <a href="../../../docs/user-manual/command-reference/stats"><code>stats</code></a></li>
<li>Export the resulting dataset with <a href="../../../docs/user-manual/command-reference/export"><code>export</code></a></li>
<li>Check project config with <a href="../../../docs/user-manual/command-reference/projects/#print-project-info"><code>project info</code></a></li>
</ul>
</li>
</ul>
<p>Basically, a project is a combination of datasets, models and environment.</p>
<p>A project can contain an arbitrary number of datasets (<a href="../../../docs/user-manual/how_to_use_datumaro#data-sources">data sources</a>).
A project acts as a manager for them and allows to manipulate them
separately or as a whole, in which case it combines dataset items
from all the sources into one composite dataset. You can manage separate
datasets in a project by commands in the <a href="../../../docs/user-manual/command-reference/sources"><code>datum source</code></a>
command line context.</p>
<p>Note that <strong>modifying operations</strong> (<code>transform</code>, <code>filter</code>, <code>patch</code>)
<strong>are applied in-place</strong> to the datasets by default.</p>
<p>If you want to interact with models, you need to add them to the project
first using the <a href="../../../docs/user-manual/command-reference/models/#register-model"><code>model add</code></a> command.</p>
<p>A typical way to obtain Datumaro projects is to export tasks in
<a href="https://github.com/openvinotoolkit/cvat">CVAT</a> UI.</p>
<h3 id="project-data-model-a-iddata-modela">Project data model <a id="data-model"></a></h3>
<p><img src="../../../images/project_model.svg" alt="project model"></p>
<p>Datumaro tries to combine a &ldquo;Git for datasets&rdquo; and a build system like
make or CMake for datasets in a single solution. Currently, <code>Project</code>
represents a Version Control System for datasets, which is based on Git and DVC
projects. Each project <code>Revision</code> describes a build tree of a dataset
with all the related metadata. A build tree consists of a number of data
sources and transformation stages. Each data source has its own set of build
steps (stages). Datumaro supposes copying of datasets and working in-place by
default. Modifying operations are recorded in the project, so any of the
dataset revisions can be reproduced when needed. Multiple dataset versions can
be stored in different branches with the common data shared.</p>
<p>Let&rsquo;s consider an example of a build tree:
<img src="../../../images/build_tree.svg" alt="build tree">
There are 2 data sources in the example project. The resulting dataset
is obtained by simple merging (joining) the results of the input datasets.
&ldquo;Source 1&rdquo; and &ldquo;Source 2&rdquo; are the names of data sources in the project. Each
source has several stages with their own names. The first stage (called &ldquo;root&rdquo;)
represents the original contents of a data source - the data at the
user-provided URL. The following stages represent operations, which needs to
be done with the data source to prepare the resulting dataset.</p>
<p>Roughly, such build tree can be created by the following commands (arguments
are omitted for simplicity):</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum create

<span style="color:#8f5902;font-style:italic"># describe the first source</span>
datum import &lt;...&gt; -n source1
datum filter &lt;...&gt; source1
datum transform &lt;...&gt; source1
datum transform &lt;...&gt; source1

<span style="color:#8f5902;font-style:italic"># describe the second source</span>
datum import &lt;...&gt; -n source2
datum model add &lt;...&gt;
datum transform &lt;...&gt; source2
datum transform &lt;...&gt; source2
</code></pre></div><p>Now, the resulting dataset can be built with:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum <span style="color:#204a87">export</span> &lt;...&gt;
</code></pre></div><h3 id="project-layout">Project layout</h3>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">project/
├── .dvc/
├── .dvcignore
├── .git/
├── .gitignore
├── .datumaro/
│   ├── cache/ <span style="color:#8f5902;font-style:italic"># object cache</span>
│   │   └── &lt;<span style="color:#0000cf;font-weight:bold">2</span> leading symbols of obj hash&gt;/
│   │       └── &lt;remaining symbols of obj hash&gt;/
│   │           └── &lt;object data&gt;
│   │
│   ├── models/ <span style="color:#8f5902;font-style:italic"># project-specific models</span>
│   │
│   ├── plugins/ <span style="color:#8f5902;font-style:italic"># project-specific plugins</span>
│   │   ├── plugin1/ <span style="color:#8f5902;font-style:italic"># composite plugin, a directory</span>
│   │   <span style="color:#000;font-weight:bold">|</span>   ├── __init__.py
│   │   <span style="color:#000;font-weight:bold">|</span>   └── file2.py
│   │   ├── plugin2.py <span style="color:#8f5902;font-style:italic"># simple plugin, a file</span>
│   │   └── ...
│   │
│   ├── tmp/ <span style="color:#8f5902;font-style:italic"># temp files</span>
│   └── tree/ <span style="color:#8f5902;font-style:italic"># working tree metadata</span>
│       ├── config.yml
│       └── sources/
│           ├── &lt;<span style="color:#204a87">source</span> name 1&gt;.dvc
│           ├── &lt;<span style="color:#204a87">source</span> name 2&gt;.dvc
│           └── ...
│
├── &lt;<span style="color:#204a87">source</span> name 1&gt;/ <span style="color:#8f5902;font-style:italic"># working directory for the source 1</span>
│   └── &lt;<span style="color:#204a87">source</span> data&gt;
└── &lt;<span style="color:#204a87">source</span> name 2&gt;/ <span style="color:#8f5902;font-style:italic"># working directory for the source 2</span>
    └── &lt;<span style="color:#204a87">source</span> data&gt;
</code></pre></div><h3 id="datasets-and-data-sources-a-iddata-sourcesa">Datasets and Data Sources <a id="data-sources"></a></h3>
<p>A project can contain an arbitrary number of Data Sources. Each Data Source
describes a dataset in a specific format. A project acts as a manager for
the data sources and allows to manipulate them separately or as a whole, in
which case it combines dataset items from all the sources into one composite
dataset. You can manage separate sources in a project by commands in
the <a href="../../../docs/user-manual/command-reference/sources"><code>datum source</code></a> command
line context.</p>
<p>Datasets come in a wide variety of formats. Each dataset
format defines its own data structure and rules on how to
interpret the data. For example, the following data structure
is used in COCO format:</p>
<!--lint disable fenced-code-flag-->
<pre><code>/dataset/
- /images/&lt;id&gt;.jpg
- /annotations/
</code></pre><!--lint enable fenced-code-flag-->
<p>Datumaro supports complete datasets, having both image data and
annotations, or incomplete ones, having annotations only.
Incomplete datasets can be used to prepare images and annotations
independently of each other, or to analyze or modify just the lightweight
annotations without the need to download the whole dataset.</p>
<p>Check <a href="../../../docs/user-manual/supported_formats">supported formats</a> for more info
about format specifications, supported import and export options and other
details. The list of formats can be extended by custom plugins,
check <a href="../../../docs/user-manual/extending">extending tips</a> for information on this
topic.</p>
<h3 id="use-cases">Use cases</h3>
<p>Let&rsquo;s consider few examples describing what Datumaro does for you behind the
scene.</p>
<p>The first example explains how working trees, working directories and the
cache interact. Suppose, there is a dataset which we want to modify and
export in some other format. To do it with Datumaro, we need to create a
project and register the dataset as a data source:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum create
datum import &lt;...&gt; -n source1
</code></pre></div><p>The dataset will be copied to the working directory inside the project. It
will be added to the project working tree.</p>
<p>After the dataset is added, we want to transform it and filter out some
irrelevant samples, so we run the following commands:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform &lt;...&gt; source1
datum filter &lt;...&gt; source1
</code></pre></div><p>The commands modify the data source inside the working directory, inplace.
The operations done are recorded in the working tree.</p>
<p>Now, we want to make a new version of the dataset and make a snapshot in the
project cache. So we <code>commit</code> the working tree:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum commit &lt;...&gt;
</code></pre></div><p><img src="../../../images/behavior_diag1.svg" alt="cache interaction diagram 1"></p>
<p>At this time, the data source is copied into the project cache and a new
project revision is created. The dataset operation history is saved, so
the dataset can be reproduced even if it is removed from the cache and the
working directory. Note, however, that the original dataset hash was not
computed, so Datumaro won&rsquo;t be able to compare dataset hash on re-downloading.
If it is desired, consider making a <code>commit</code> with an unmodified data source.</p>
<p>After this, we do some other modifications to the dataset and make a new
commit. Note that the dataset is not cached, until a <code>commit</code> is done.</p>
<p>When the dataset is ready and all the required operations are done, we
can <code>export</code> it to the required format. We can export the resulting dataset,
or any previous stage.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum <span style="color:#204a87">export</span> &lt;...&gt; source1
datum <span style="color:#204a87">export</span> &lt;...&gt; source1.stage3
</code></pre></div><p>Let&rsquo;s extend the example. Imagine we have a project with 2 data sources.
Roughly, it corresponds to the following set of commands:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum create
datum import &lt;...&gt; -n source1
datum import &lt;...&gt; -n source2
datum transform &lt;...&gt; source1 <span style="color:#8f5902;font-style:italic"># used 3 times</span>
datum transform &lt;...&gt; source2 <span style="color:#8f5902;font-style:italic"># used 5 times</span>
</code></pre></div><p>Then, for some reasons, the project cache was cleaned from <code>source1</code> revisions.
We also don&rsquo;t have anything in the project working directories - suppose,
the user removed them to save disk space.</p>
<p>Let&rsquo;s see what happens, if we call the <code>diff</code> command with 2 different
revisions now.</p>
<p><img src="../../../images/behavior_diag2.svg" alt="cache interaction diagram 2"></p>
<p>Datumaro needs to reproduce 2 dataset revisions requested so that they could
be read and compared. Let&rsquo;s see how the first dataset is reproduced
step-by-step:</p>
<ol>
<li><code>source1.stage2</code> will be looked for in the project cache. It won&rsquo;t be
found, since the cache was cleaned.</li>
<li>Then, Datumaro will look for previous source revisions in the cache
and won&rsquo;t find any.</li>
<li>The project can be marked read-only, if we are not working with the
&ldquo;current&rdquo; project (which is specified by the <code>-p/--project</code> command
parameter). In the example, the command is <code>datum diff rev1:... rev2:...</code>,
which means there is a project in the current directory, so the project
we are working with is not read-only. If a command target was specified as
<code>datum diff &lt;project&gt;@&lt;rev&gt;:&lt;source&gt;</code>, the project would be loaded
as read-only. If a project is read-only, we can&rsquo;t do anything more to
reproduce the dataset and can only exit with an error (3a). The reason for
such behavior is that the dataset downloading can be quite expensive (in
terms of time, disk space etc.). It is supposed, that such side-effects
should be controlled manually.</li>
<li>If the project is not read-only (3b), Datumaro will try to download
the original dataset and reproduce the resulting dataset. The data hash
will be computed and hashes will be compared (if the data source had hash
computed on addition). On success, the data will be put into the cache.</li>
<li>The downloaded dataset will be read and the remaining operations from the
source history will be re-applied.</li>
<li>The resulting dataset might be cached in some cases.</li>
<li>The resulting dataset is returned.</li>
</ol>
<p>The <code>source2</code> will be looked for the same way. In our case, it will be found
in the cache and returned. Once both datasets are restored and read, they
are compared.</p>
<p>Consider other situation. Let&rsquo;s try to <code>export</code> the <code>source1</code>. Suppose
we have a clear project cache and the <code>source1</code> has a copy in the working
directory.</p>
<p><img src="../../../images/behavior_diag3.svg" alt="cache interaction diagram 3"></p>
<p>Again, Datumaro needs to reproduce a dataset revision (stage) requested.</p>
<ol>
<li>It looks for the dataset in the working directory and finds some data. If
there is no source working directory, Datumaro will try to reproduce the
source using the approach described above (1b).</li>
<li>The data hash is computed and compared with the one saved in the history.
If the hashes match, the dataset is read and returned (4).
Note: we can&rsquo;t use the cached hash stored in the working tree info -
it can be outdated, so we need to compute it again.</li>
<li>Otherwise, Datumaro tries to detect the stage by the data hash.
If the current stage is not cached, the tree is the working tree and the
working directory is not empty, the working copy is hashed and matched
against the source stage list. If there is a matching stage, it will be
read and the missing stages will be added. The result might be cached in
some cases.
If there is no matching stage in the source history, the situation can
be contradictory. Currently, an error is raised (3b).</li>
<li>The resulting dataset is returned.</li>
</ol>
<p>After the requested dataset is obtained, it is exported in the requested
format.</p>
<p>To sum up, Datumaro tries to restore a dataset from the project cache or
reproduce it from sources. It can be done as long as the source operations
are recorded and any step data is available. Note that cache objects share
common files, so if there are only annotation differences between datasets,
or data sources contain the same images, there will only be a single copy
of the related media files. This helps to keep storage use reasonable and
avoid unnecessary data copies.</p>
<h3 id="examples-a-idcli-examplesa">Examples <a id="cli-examples"></a></h3>
<p>Example: create a project, add dataset, modify, restore an old version</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum create
datum import &lt;path/to/dataset&gt; -f coco -n source1
datum commit -m <span style="color:#4e9a06">&#34;Added a dataset&#34;</span>
datum transform -t shapes_to_boxes
datum filter -e <span style="color:#4e9a06">&#39;/item/annotation[label=&#34;cat&#34; or label=&#34;dog&#34;]&#39;</span> -m i+a
datum commit -m <span style="color:#4e9a06">&#34;Transformed&#34;</span>
datum checkout HEAD~1 -- source1 <span style="color:#8f5902;font-style:italic"># restore a previous revision</span>
datum status <span style="color:#8f5902;font-style:italic"># prints &#34;modified source1&#34;</span>
datum checkout source1 <span style="color:#8f5902;font-style:italic"># restore the last revision</span>
datum <span style="color:#204a87">export</span> -f voc -- --save-images
</code></pre></div>
	
	
	<div class="text-muted mt-5 pt-3 border-top">

</div>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-2 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="" aria-label="">
    <a class="text-white" rel="noopener noreferrer" href="">
      <i class=""></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-2 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" rel="noopener noreferrer" href="https://github.com/openvinotoolkit/datumaro">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-8 text-center order-sm-2">
        <small class="mr-1"><a href="https://www.intel.com/content/www/us/en/privacy/intel-privacy-notice.html">Privacy Policy</a></small>
        |
        <small class="mx-1"><a href="https://www.intel.com/content/www/us/en/legal/terms-of-use.html">Terms of Use</a></small>
        <br/>
        <div class="footer-disclaimer text-white ">
          <small>Intel technologies may require enabled hardware, software or service activation. // No product or component can be absolutely secure. // Your costs and results may vary. // Performance varies by use, configuration and other factors. // See our complete legal <u><a href="https://edc.intel.com/content/www/us/en/products/performance/benchmarks/overview/?r=219444055">Notices and Disclaimers</a></u>. // Intel is committed to respecting human rights and avoiding complicity in human rights abuses. See Intel’s <a href="https://www.intel.com/content/www/us/en/policy/policy-human-rights.html"><u>Global Human Rights Principles</u></a>. Intel’s products and software are intended only to be used in applications that do not cause or contribute to a violation of an internationally recognized human right.</small>
        </div>
        
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>


<script src="https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js" integrity="sha384-uQikAXnCAqsMb3ygtdqBYvcwvHUkzGIpjdGyy9owhURXHUxLC5LgTcSxJQH/RzjK" crossorigin="anonymous"></script>





 













<script src="../../../js/main.min.ee00f42d1b949caa55ccf416202998d65afac8f58091e2719c89d4fc3518550e.js" integrity="sha256-7gD0LRuUnKpVzPQWICmY1lr6yPWAkeJxnInU/DUYVQ4=" crossorigin="anonymous"></script>



<script src='../../../js/prism.js'></script>



  </body>
</html>