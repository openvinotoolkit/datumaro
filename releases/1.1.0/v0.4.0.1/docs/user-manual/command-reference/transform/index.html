<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.83.1" /><META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="../../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../../favicons/android-192x192.png" sizes="192x192">

<title>Transform Dataset | Dataset Management Framework</title>
<meta name="description" content=""><meta property="og:title" content="Transform Dataset" />
<meta property="og:description" content="Often datasets need to be modified during preparation for model training and experimenting. In trivial cases it can be done manually - e.g. image renaming or label renaming. However, in more complex cases even simple modifications can require too much efforts, distracting the user from the real work. Datumaro provides the datum transform command to help in such cases.
This command allows to modify dataset images or annotations all at once." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/user-manual/command-reference/transform/" /><meta property="article:section" content="docs" />

<meta property="og:site_name" content="Dataset Management Framework" />

<meta itemprop="name" content="Transform Dataset">
<meta itemprop="description" content="Often datasets need to be modified during preparation for model training and experimenting. In trivial cases it can be done manually - e.g. image renaming or label renaming. However, in more complex cases even simple modifications can require too much efforts, distracting the user from the real work. Datumaro provides the datum transform command to help in such cases.
This command allows to modify dataset images or annotations all at once.">

<meta itemprop="wordCount" content="3335">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Transform Dataset"/>
<meta name="twitter:description" content="Often datasets need to be modified during preparation for model training and experimenting. In trivial cases it can be done manually - e.g. image renaming or label renaming. However, in more complex cases even simple modifications can require too much efforts, distracting the user from the real work. Datumaro provides the datum transform command to help in such cases.
This command allows to modify dataset images or annotations all at once."/>




<link rel="preload" href="../../../../scss/main.min.7739044bd284ace8b77f1ace79422fd408a2224eb69c6b8d48ef94dde2a179d5.css" as="style">
<link href="../../../../scss/main.min.7739044bd284ace8b77f1ace79422fd408a2224eb69c6b8d48ef94dde2a179d5.css" rel="stylesheet" integrity="">


<script
  src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>






<link rel="stylesheet" href="../../../../css/prism.css"/>




  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="../../../../docs">
    <span class="navbar-logo"></span><span class="font-weight-bold">Dataset Management Framework</span>
  </a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      
      
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          
          
          
          
          
          
          <a class="nav-link" href="https://github.com/openvinotoolkit/datumaro"  ><i class='fab fa-github'></i><span>GitHub</span></a>
        </li>
      
        <li class="nav-item mr-4 mb-2 mb-lg-0" id="api">
          <a class="nav-link" href="../../../../api">API documentation</a>
        </li>
      
        <li class="nav-item dropdown mr-4 d-lg-block">
          

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  v0.4.0.1
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
  
    
      <a class="dropdown-item" href="../../../../../docs/user-manual/command-reference/transform/">develop</a>
  
    
      <a class="dropdown-item" href="../../../../../v0.1.11/docs/user-manual/command-reference/transform/">v0.1.11</a>
  
    
      <a class="dropdown-item" href="../../../../../v0.2/docs/user-manual/command-reference/transform/">v0.2</a>
  
    
      <a class="dropdown-item" href="../../../../../v0.2.1/docs/user-manual/command-reference/transform/">v0.2.1</a>
  
    
      <a class="dropdown-item" href="../../../../../v0.2.2/docs/user-manual/command-reference/transform/">v0.2.2</a>
  
    
      <a class="dropdown-item" href="../../../../../v0.2.3/docs/user-manual/command-reference/transform/">v0.2.3</a>
  
    
      <a class="dropdown-item" href="../../../../../v0.3/docs/user-manual/command-reference/transform/">v0.3</a>
  
    
      <a class="dropdown-item" href="../../../../../v0.3.1/docs/user-manual/command-reference/transform/">v0.3.1</a>
  
    
      <a class="dropdown-item" href="../../../../../v0.4.0.1/docs/user-manual/command-reference/transform/">v0.4.0.1</a>
  
    
      <a class="dropdown-item" href="../../../../../v0.5.0/docs/user-manual/command-reference/transform/">v0.5.0</a>
  
    
      <a class="dropdown-item" href="../../../../../v1.0.0/docs/user-manual/command-reference/transform/">v1.0.0</a>
  
    
      <a class="dropdown-item" href="../../../../../v1.1.0/docs/user-manual/command-reference/transform/">v1.1.0</a>
  
    
      <a class="dropdown-item" href="../../../../../v1.1.1/docs/user-manual/command-reference/transform/">v1.1.1</a>
  
</div>

        </li>
      
      
    </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../../../offline-search-index.ad1426bc694e5b855682a398b999b879.json"
  data-offline-search-base-href="../../../../"
  data-offline-search-max-results="10"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <div id="content-mobile">
  <form class="td-sidebar__search d-flex align-items-center">
    



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../../../offline-search-index.ad1426bc694e5b855682a398b999b879.json"
  data-offline-search-base-href="../../../../"
  data-offline-search-max-results="10"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  </div>
  <div id="content-desktop"></div>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docs-li">
  <a href="../../../../docs/" title="Dataset Management Framework Documentation" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsgetting_started-li">
  <a href="../../../../docs/getting_started/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsgetting_started"><span class="">Getting started</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdesign-li">
  <a href="../../../../docs/design/" title="Datumaro Design" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsdesign"><span class="">Design</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docspython-api-li">
  <a href="../../../../docs/python-api/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docspython-api"><span class="">Python API</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docspython-apipython-api-examples-li">
  <a href="../../../../docs/python-api/python-api-examples/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docspython-apipython-api-examples"><span class="">Python API examples</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docspython-apipython-api-examplesdataset_handler-li">
  <a href="../../../../docs/python-api/python-api-examples/dataset_handler/" title="Dataset handler" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docspython-apipython-api-examplesdataset_handler"><span class="">dataset-handler</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docspython-apipython-api-examplesfilter-li">
  <a href="../../../../docs/python-api/python-api-examples/filter/" title="Filter" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docspython-apipython-api-examplesfilter"><span class="">filter</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docspython-apipython-api-examplesgenerate-li">
  <a href="../../../../docs/python-api/python-api-examples/generate/" title="Generate" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docspython-apipython-api-examplesgenerate"><span class="">generate</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docspython-apipython-api-examplestransform-li">
  <a href="../../../../docs/python-api/python-api-examples/transform/" title="Transform" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docspython-apipython-api-examplestransform"><span class="">transform</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docspython-apipython-api-examplesvalidate-li">
  <a href="../../../../docs/python-api/python-api-examples/validate/" title="Validate" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docspython-apipython-api-examplesvalidate"><span class="">validate</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docspython-apipython-api-examplesvisualizer-li">
  <a href="../../../../docs/python-api/python-api-examples/visualizer/" title="Visualizer" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docspython-apipython-api-examplesvisualizer"><span class="">visualizer</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsuser-manual-li">
  <a href="../../../../docs/user-manual/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsuser-manual"><span class="">User Manual</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualinstallation-li">
  <a href="../../../../docs/user-manual/installation/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualinstallation"><span class="">Installation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualhow_to_use_datumaro-li">
  <a href="../../../../docs/user-manual/how_to_use_datumaro/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualhow_to_use_datumaro"><span class="">How to use Datumaro</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualsupported_formats-li">
  <a href="../../../../docs/user-manual/supported_formats/" title="Supported Formats" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualsupported_formats"><span class="">Dataset Formats</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualmedia_formats-li">
  <a href="../../../../docs/user-manual/media_formats/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualmedia_formats"><span class="">Media formats</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsuser-manualcommand-reference-li">
  <a href="../../../../docs/user-manual/command-reference/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsuser-manualcommand-reference"><span class="">Command reference</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencecheckout-li">
  <a href="../../../../docs/user-manual/command-reference/checkout/" title="Checkout" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencecheckout"><span class="">checkout</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencecommit-li">
  <a href="../../../../docs/user-manual/command-reference/commit/" title="Commit" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencecommit"><span class="">commit</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referenceconvert-li">
  <a href="../../../../docs/user-manual/command-reference/convert/" title="Convert datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceconvert"><span class="">convert</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencecreate-li">
  <a href="../../../../docs/user-manual/command-reference/create/" title="Create project" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencecreate"><span class="">create</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencedescribe-downloads-li">
  <a href="../../../../docs/user-manual/command-reference/describe-downloads/" title="Describe downloadable datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencedescribe-downloads"><span class="">describe-downloads</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencedetect-format-li">
  <a href="../../../../docs/user-manual/command-reference/detect-format/" title="Detect dataset format" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencedetect-format"><span class="">detect-format</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencediff-li">
  <a href="../../../../docs/user-manual/command-reference/diff/" title="Compare datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencediff"><span class="">diff</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencedownload-li">
  <a href="../../../../docs/user-manual/command-reference/download/" title="Download datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencedownload"><span class="">download</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referenceexplain-li">
  <a href="../../../../docs/user-manual/command-reference/explain/" title="Run model inference explanation (explain)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceexplain"><span class="">explain</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referenceexport-li">
  <a href="../../../../docs/user-manual/command-reference/export/" title="Export Datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceexport"><span class="">export</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencefilter-li">
  <a href="../../../../docs/user-manual/command-reference/filter/" title="Filter datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencefilter"><span class="">filter</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencegenerate-li">
  <a href="../../../../docs/user-manual/command-reference/generate/" title="Generate Datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencegenerate"><span class="">generate</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referenceinfo-li">
  <a href="../../../../docs/user-manual/command-reference/info/" title="Print dataset info" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceinfo"><span class="">info</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencelog-li">
  <a href="../../../../docs/user-manual/command-reference/log/" title="Log" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencelog"><span class="">log</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencemerge-li">
  <a href="../../../../docs/user-manual/command-reference/merge/" title="Merge Datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencemerge"><span class="">merge</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencemodels-li">
  <a href="../../../../docs/user-manual/command-reference/models/" title="Models" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencemodels"><span class="">model (context)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencepatch-li">
  <a href="../../../../docs/user-manual/command-reference/patch/" title="Patch Datasets" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencepatch"><span class="">patch</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referenceprojects-li">
  <a href="../../../../docs/user-manual/command-reference/projects/" title="Projects" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceprojects"><span class="">project (context)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencesources-li">
  <a href="../../../../docs/user-manual/command-reference/sources/" title="Sources" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencesources"><span class="">source (context)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencestats-li">
  <a href="../../../../docs/user-manual/command-reference/stats/" title="Get Project Statistics" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencestats"><span class="">stats</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencestatus-li">
  <a href="../../../../docs/user-manual/command-reference/status/" title="Status" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencestatus"><span class="">status</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-docsuser-manualcommand-referencetransform-li">
  <a href="../../../../docs/user-manual/command-reference/transform/" title="Transform Dataset" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencetransform"><span class="td-sidebar-nav-active-item">transform</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referenceutil-li">
  <a href="../../../../docs/user-manual/command-reference/util/" title="Utilities" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceutil"><span class="">util</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualcommand-referencevalidate-li">
  <a href="../../../../docs/user-manual/command-reference/validate/" title="Validate Dataset" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencevalidate"><span class="">validate</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualextending-li">
  <a href="../../../../docs/user-manual/extending/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualextending"><span class="">Extending</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manuallinks-li">
  <a href="../../../../docs/user-manual/links/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manuallinks"><span class="">Links</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsuser-manualhow_to_control_tm_data_collection-li">
  <a href="../../../../docs/user-manual/how_to_control_tm_data_collection/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualhow_to_control_tm_data_collection"><span class="">How to control telemetry data collection</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsformats-li">
  <a href="../../../../docs/formats/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsformats"><span class="">Formats</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsnyu_depth_v-li">
  <a href="../../../../docs/formats/nyu_depth_v/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsnyu_depth_v"><span class="">NYU Depth Dataset V2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsade20k2017-li">
  <a href="../../../../docs/formats/ade20k2017/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsade20k2017"><span class="">ADE20k (v2017)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsade20k2020-li">
  <a href="../../../../docs/formats/ade20k2020/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsade20k2020"><span class="">ADE20k (v2020)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsalign_celeba-li">
  <a href="../../../../docs/formats/align_celeba/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsalign_celeba"><span class="">Align CelebA</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsbrats-li">
  <a href="../../../../docs/formats/brats/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsbrats"><span class="">BraTS</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsbrats_numpy-li">
  <a href="../../../../docs/formats/brats_numpy/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsbrats_numpy"><span class="">BraTS Numpy</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsceleba-li">
  <a href="../../../../docs/formats/celeba/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsceleba"><span class="">CelebA</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatscifar-li">
  <a href="../../../../docs/formats/cifar/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatscifar"><span class="">CIFAR</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatscityscapes-li">
  <a href="../../../../docs/formats/cityscapes/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatscityscapes"><span class="">Cityscapes</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatscoco-li">
  <a href="../../../../docs/formats/coco/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatscoco"><span class="">COCO</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatscommon_semantic_segmentation-li">
  <a href="../../../../docs/formats/common_semantic_segmentation/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatscommon_semantic_segmentation"><span class="">Common Semantic Segmentation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatscommon_super_resolution-li">
  <a href="../../../../docs/formats/common_super_resolution/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatscommon_super_resolution"><span class="">Common Super Resolution</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsicdar-li">
  <a href="../../../../docs/formats/icdar/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsicdar"><span class="">ICDAR</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsimage_zip-li">
  <a href="../../../../docs/formats/image_zip/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsimage_zip"><span class="">Image zip</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsimagenet-li">
  <a href="../../../../docs/formats/imagenet/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsimagenet"><span class="">ImageNet</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatskinetics-li">
  <a href="../../../../docs/formats/kinetics/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatskinetics"><span class="">Kinetics</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatskitti-li">
  <a href="../../../../docs/formats/kitti/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatskitti"><span class="">KITTI</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatslfw-li">
  <a href="../../../../docs/formats/lfw/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatslfw"><span class="">LFW</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsmapillary_vistas-li">
  <a href="../../../../docs/formats/mapillary_vistas/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsmapillary_vistas"><span class="">Mapillary Vistas</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsmarket1501-li">
  <a href="../../../../docs/formats/market1501/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsmarket1501"><span class="">Market-1501</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsmars-li">
  <a href="../../../../docs/formats/mars/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsmars"><span class="">MARS</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsmnist-li">
  <a href="../../../../docs/formats/mnist/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsmnist"><span class="">MNIST</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsmpii-li">
  <a href="../../../../docs/formats/mpii/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsmpii"><span class="">MPII Human Pose Dataset</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsmpii_json-li">
  <a href="../../../../docs/formats/mpii_json/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsmpii_json"><span class="">MPII Human Pose Dataset (JSON)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsopen_images-li">
  <a href="../../../../docs/formats/open_images/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsopen_images"><span class="">Open Images</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatspascal_voc-li">
  <a href="../../../../docs/formats/pascal_voc/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatspascal_voc"><span class="">Pascal VOC</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatssly_pointcloud-li">
  <a href="../../../../docs/formats/sly_pointcloud/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatssly_pointcloud"><span class="">Supervisely Point Cloud</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatssynthia-li">
  <a href="../../../../docs/formats/synthia/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatssynthia"><span class="">SYNTHIA</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatskitti_raw-li">
  <a href="../../../../docs/formats/kitti_raw/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatskitti_raw"><span class="">Velodyne Points / KITTI Raw 3D</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsvgg_face2-li">
  <a href="../../../../docs/formats/vgg_face2/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsvgg_face2"><span class="">Vgg Face2 CSV</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsvott_csv-li">
  <a href="../../../../docs/formats/vott_csv/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsvott_csv"><span class="">VoTT CSV</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsvott_json-li">
  <a href="../../../../docs/formats/vott_json/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsvott_json"><span class="">VoTT JSON</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatswider_face-li">
  <a href="../../../../docs/formats/wider_face/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatswider_face"><span class="">WIDER Face</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsyolo-li">
  <a href="../../../../docs/formats/yolo/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsyolo"><span class="">YOLO</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsplugins-li">
  <a href="../../../../docs/plugins/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsplugins"><span class="">Plugins</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docspluginsopenvino_plugin-li">
  <a href="../../../../docs/plugins/openvino_plugin/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docspluginsopenvino_plugin"><span class="">OpenVINO™ Inference Interpreter</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscontributing-li">
  <a href="../../../../docs/contributing/" title="Contribution Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscontributing"><span class="">Contributing</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsrelease_notes-li">
  <a href="../../../../docs/release_notes/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsrelease_notes"><span class="">Release notes</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
  
  
  
  
  
  
  <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
  
    
    
      
    
    
    
    
    
    
    

    <a href="https://github.com/openvinotoolkit/datumaro/edit/develop/site/content/en/docs/user-manual/command-reference/transform.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
    <a href="https://github.com/openvinotoolkit/datumaro/new/develop/site/content/en/docs/user-manual/command-reference/transform.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" target="_blank"><i class="fa fa-edit fa-fw"></i> Create child page</a>
    <a href="https://github.com/openvinotoolkit/datumaro/issues/new?title=Transform%20Dataset" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
    
      
      <a href="https://github.com/openvinotoolkit/datumaro/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
    

  
  
    <a id="print" href="../../../../docs/user-manual/command-reference/_print/"><i class="fa fa-print fa-fw"></i> Print entire section</a>
  
  </div>


            




            

	
		



  
  

	
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		













<li class="breadcrumb-item" >
	<a href="../../../../docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="../../../../docs/user-manual/">User Manual</a>
</li>




<li class="breadcrumb-item" >
	<a href="../../../../docs/user-manual/command-reference/">Command reference</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="../../../../docs/user-manual/command-reference/transform/">transform</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Transform Dataset</h1>
	
	<header class="article-meta">
		
		
			
				


			
				


			
		
		
	</header>    
	<p>Often datasets need to be modified during preparation for model training and
experimenting. In trivial cases it can be done manually - e.g. image renaming
or label renaming. However, in more complex cases even simple modifications
can require too much efforts, distracting the user from the real work.
Datumaro provides the <code>datum transform</code> command to help in such cases.</p>
<p>This command allows to modify dataset images or annotations all at once.</p>
<blockquote>
<p>This command is designed for batch dataset processing, so if you only
need to modify few elements of a dataset, you might want to use
other approaches for better performance. A possible solution can be
a simple script, which uses <a href="../../../../api/api/developer_manual.html">Datumaro API</a>.</p>
</blockquote>
<p>The command can be applied to a dataset or a project build target,
a stage or the combined <code>project</code> target, in which case all the project
targets will be affected. A build tree stage will be recorded
if <code>--stage</code> is enabled, and the resulting dataset(-s) will be
saved if <code>--apply</code> is enabled.</p>
<p>By default, datasets are updated in-place. The <code>-o/--output-dir</code>
option can be used to specify another output directory. When
updating in-place, use the <code>--overwrite</code> parameter (in-place
updates fail by default to prevent data loss), unless a project
target is modified.</p>
<p>The current project (<code>-p/--project</code>) is also used as a context for
plugins, so it can be useful for dataset paths having custom formats.
When not specified, the current project&rsquo;s working tree is used.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> -t TRANSFORM <span style="color:#ce5c00;font-weight:bold">[</span>-o DST_DIR<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--overwrite<span style="color:#ce5c00;font-weight:bold">]</span>
  <span style="color:#ce5c00;font-weight:bold">[</span>-p PROJECT_DIR<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--stage STAGE<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--apply APPLY<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>target<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-- EXTRA_ARGS<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Parameters:</p>
<ul>
<li><code>&lt;target&gt;</code> (string) - Target
<a href="../../../../docs/user-manual/how_to_use_datumaro/#revpath">dataset revpath</a>.
By default, transforms all targets of the current project.</li>
<li><code>-t, --transform</code> (string) - Transform method name</li>
<li><code>--stage</code> (bool) - Include this action as a project build step.
If true, this operation will be saved in the project
build tree, allowing to reproduce the resulting dataset later.
Applicable only to main project targets (i.e. data sources
and the <code>project</code> target, but not intermediate stages). Enabled by default.</li>
<li><code>--apply</code> (bool) - Run this command immediately. If disabled, only the
build tree stage will be written. Enabled by default.</li>
<li><code>-o, --output-dir</code> (string) - Output directory. Can be omitted for
main project targets (i.e. data sources and the <code>project</code> target, but not
intermediate stages) and dataset targets. If not specified, the results
will be saved inplace.</li>
<li><code>--overwrite</code> - Allows to overwrite existing files in the output directory,
when it is specified and is not empty.</li>
<li><code>-p, --project</code> (string) - Directory of the project to operate on
(default: current directory).</li>
<li><code>-h, --help</code> - Print the help message and exit.</li>
<li><code>&lt;extra args&gt;</code> - The list of extra transformation parameters. Should be
passed after the <code>--</code> separator after the main command arguments. See
transform descriptions for info about extra parameters. Use the <code>--help</code>
option to print parameter info.</li>
</ul>
<p>Examples:</p>
<ul>
<li>Split a VOC-like dataset randomly:</li>
</ul>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t random_split --overwrite path/to/dataset:voc
</code></pre></div><ul>
<li>Rename images in a project data source by a regex from <code>frame_XXX</code> to <code>XXX</code>:</li>
</ul>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum create &lt;...&gt;
datum import &lt;...&gt; -n source-1
datum transform -t rename source-1 -- -e <span style="color:#4e9a06">&#39;|^frame_||&#39;</span>
</code></pre></div><p><a id="builtin-transforms"></a></p>
<h4 id="built-in-transforms">Built-in transforms</h4>
<p>Basic dataset item manipulations:</p>
<ul>
<li><a href="#rename-transform"><code>rename</code></a> - Renames dataset items by regular expression</li>
<li><a href="#id_from_image_name-transform"><code>id_from_image_name</code></a> - Renames dataset
items to their image filenames</li>
<li><a href="#reindex-transform"><code>reindex</code></a> - Renames dataset items with numbers</li>
<li><a href="#ndr-transform"><code>ndr</code></a> - Removes duplicated images from dataset</li>
<li><a href="#relevancy_sampler-transform"><code>relevancy_sampler</code></a> - Leaves only the most
important images
(requires model inference results)</li>
<li><a href="#random_sampler-transform"><code>random_sampler</code></a> - Leaves no more than k items
from the dataset randomly</li>
<li><a href="#label_random_sampler-transform"><code>label_random_sampler</code></a> - Leaves at least
k images with annotations per class</li>
<li><a href="#resize-transform"><code>resize</code></a> - Resizes images and annotations in the dataset</li>
<li><a href="#remove_images-transform"><code>remove_images</code></a> - Removes specific images</li>
<li><a href="#remove_annotations-transform"><code>remove_annotations</code></a> - Removes annotations</li>
<li><a href="#remove_attributes-transform"><code>remove_attributes</code></a> - Removes attributes</li>
</ul>
<p>Subset manipulations:</p>
<ul>
<li><a href="#random_split-transform"><code>random_split</code></a> - Splits dataset into subsets
randomly</li>
<li><a href="#split-transform"><code>split</code></a> - Splits dataset into subsets for classification,
detection, segmentation or re-identification</li>
<li><a href="#map_subsets-transform"><code>map_subsets</code></a> - Renames and removes subsets</li>
</ul>
<p>Annotation manipulations:</p>
<ul>
<li><a href="#remap_labels-transform"><code>remap_labels</code></a> - Renames, adds or removes
labels in dataset</li>
<li><a href="#project_labels-transform"><code>project_labels</code></a> - Sets dataset labels to
the requested sequence</li>
<li><a href="#shapes_to_boxes-transform"><code>shapes_to_boxes</code></a> - Replaces spatial
annotations with bounding boxes</li>
<li><a href="#boxes_to_masks-transform"><code>boxes_to_masks</code></a> - Converts bounding boxes
to instance masks</li>
<li><a href="#polygons_to_masks-transform"><code>polygons_to_masks</code></a> - Converts polygons
to instance masks</li>
<li><a href="#masks_to_polygons-transform"><code>masks_to_polygons</code></a> - Converts instance
masks to polygons</li>
<li><a href="#anns_to_labels-transform"><code>anns_to_labels</code></a> - Replaces annotations having
labels with label annotations</li>
<li><a href="#merge_instance_segments-transform"><code>merge_instance_segments</code></a> - Merges
grouped spatial annotations into a mask</li>
<li><a href="#crop_covered_segments-transform"><code>crop_covered_segments</code></a> - Removes
occluded segments of covered masks</li>
<li><a href="#bbox_value_decrement-transform"><code>bbox_value_decrement</code></a> - Subtracts
1 from bbox coordinates</li>
</ul>
<p><a id="rename-transform"></a></p>
<h5 id="rename"><code>rename</code></h5>
<p>Renames items in the dataset. Supports regular expressions.
The first character in the expression is a delimiter for
the pattern and replacement parts. Replacement part can also
contain <code>str.format</code> replacement fields with the <code>item</code>
(of type <code>DatasetItem</code>) object available.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">rename <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-e REGEX<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-e</code>, <code>--regex</code> (string) - Regex for renaming in the form
<code>&lt;sep&gt;&lt;search&gt;&lt;sep&gt;&lt;replacement&gt;&lt;sep&gt;</code></li>
</ul>
<p>Examples:
Replace &lsquo;pattern&rsquo; with &lsquo;replacement&rsquo;:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t rename -- -e <span style="color:#4e9a06">&#39;|pattern|replacement|&#39;</span>
</code></pre></div><p>Remove the <code>frame_</code> prefix from item ids:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t rename -- -e <span style="color:#4e9a06">&#39;|^frame_|\1|&#39;</span>
</code></pre></div><p>Collect images from subdirectories into the base image directory using regex:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t rename -- -e <span style="color:#4e9a06">&#39;|^((.+[/\\])*)?(.+)$|\2|&#39;</span>
</code></pre></div><p>Add subset prefix to images:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t rename -- -e <span style="color:#4e9a06">&#39;|(.*)|{item.subset}_\1|&#39;</span>
</code></pre></div><p><a id="id_from_image_name-transform"></a></p>
<h5 id="id_from_image_name"><code>id_from_image_name</code></h5>
<p>Renames items in the dataset using image file name (without extension).</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">id_from_image_name <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
</ul>
<p><a id="reindex-transform"></a></p>
<h5 id="reindex"><code>reindex</code></h5>
<p>Replaces dataset item IDs with sequential indices.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">reindex <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-s START<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-s</code>, <code>--start</code> (int) - Start value for item ids (default: 1)</li>
</ul>
<p><a id="ndr-transform"></a></p>
<h5 id="ndr"><code>ndr</code></h5>
<p>Removes near-duplicated images in subset.</p>
<p>Remove duplicated images from a dataset. Keep at most <code>-k/--num_cut</code>
resulting images.</p>
<p>Available oversampling policies (the <code>-e</code> parameter):</p>
<ul>
<li><code>random</code> - sample from removed data randomly</li>
<li><code>similarity</code> - sample from removed data with ascending similarity score</li>
</ul>
<p>Available undersampling policies (the <code>-u</code> parameter):</p>
<ul>
<li><code>uniform</code> - sample data with uniform distribution</li>
<li><code>inverse</code> - sample data with reciprocal of the number of number of
items with the same similarity</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ndr <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-w WORKING_SUBSET<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-d DUPLICATED_SUBSET<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-a <span style="color:#ce5c00;font-weight:bold">{</span>gradient<span style="color:#ce5c00;font-weight:bold">}]</span>
  <span style="color:#ce5c00;font-weight:bold">[</span>-k NUM_CUT<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-e <span style="color:#ce5c00;font-weight:bold">{</span>random,similarity<span style="color:#ce5c00;font-weight:bold">}]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-u <span style="color:#ce5c00;font-weight:bold">{</span>uniform,inverse<span style="color:#ce5c00;font-weight:bold">}]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-s SEED<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-w</code>, <code>--working_subset</code> (str) - Name of the subset to operate
(default: <code>None</code>)</li>
<li><code>-d</code>, <code>--duplicated_subset</code> (str) - Name of the subset for the removed
data after NDR runs (default: duplicated)</li>
<li><code>-a</code>, <code>--algorithm</code> (one of: <code>gradient</code>) - Name of the algorithm to
use (default: <code>gradient</code>)</li>
<li><code>-k</code>, <code>--num_cut</code> (int) - Maximum output dataset size</li>
<li><code>-e</code>, <code>--over_sample</code> (one of: <code>random</code>, <code>similarity</code>) - The policy to use
when <code>num_cut</code> is bigger than result length (default: <code>random</code>)</li>
<li><code>-u</code>, <code>--under_sample</code> (one of: <code>uniform</code>, <code>inverse</code>) - The policy to use
when <code>num_cut</code> is smaller than result length (default: <code>uniform</code>)</li>
<li><code>-s</code>, <code>--seed</code> (int) - Random seed</li>
</ul>
<p>Example: apply NDR, return no more than 100 images</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t ndr -- <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  --working_subset train
  --algorithm gradient
  --num_cut <span style="color:#0000cf;font-weight:bold">100</span>
  --over_sample random
  --under_sample uniform
</code></pre></div><p><a id="relevancy_sampler-transform"></a></p>
<h5 id="relevancy_sampler"><code>relevancy_sampler</code></h5>
<p>Sampler that analyzes model inference results on the dataset
and picks the most relevant samples for training.</p>
<p>Creates a dataset from the <code>-k/--count</code> hardest items for a model.
The whole dataset or a single subset will be split into the <code>sampled</code>
and <code>unsampled</code> subsets based on the model confidence. The dataset
<strong>must</strong> contain model confidence values in the <code>scores</code> attributes
of annotations.</p>
<p>There are five methods of sampling (the <code>-m/--method</code> option):</p>
<ul>
<li><code>topk</code> - Return the k items with the highest uncertainty data</li>
<li><code>lowk</code> - Return the k items with the lowest uncertainty data</li>
<li><code>randk</code> - Return random k items</li>
<li><code>mixk</code> - Return a half using topk, and the other half using lowk method</li>
<li><code>randtopk</code> - Select 3*k items randomly, and return the topk among them</li>
</ul>
<p>Notes:</p>
<ul>
<li>Each image&rsquo;s inference result must contain the probability for
all classes (in the <code>scores</code> attribute).</li>
<li>Requesting a sample larger than the number of all images will return
all images.</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">relevancy_sampler <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> -k COUNT <span style="color:#ce5c00;font-weight:bold">[</span>-a <span style="color:#ce5c00;font-weight:bold">{</span>entropy<span style="color:#ce5c00;font-weight:bold">}]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-i INPUT_SUBSET<span style="color:#ce5c00;font-weight:bold">]</span>
  <span style="color:#ce5c00;font-weight:bold">[</span>-o SAMPLED_SUBSET<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-u UNSAMPLED_SUBSET<span style="color:#ce5c00;font-weight:bold">]</span>
  <span style="color:#ce5c00;font-weight:bold">[</span>-m <span style="color:#ce5c00;font-weight:bold">{</span>topk,lowk,randk,mixk,randtopk<span style="color:#ce5c00;font-weight:bold">}]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-d OUTPUT_FILE<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-k</code>, <code>--count</code> (int) - Number of items to sample</li>
<li><code>-a</code>, <code>--algorithm</code> (one of: <code>entropy</code>) - Sampling
algorithm (default: <code>entropy</code>)</li>
<li><code>-i</code>, <code>--input_subset</code> (str) - Subset name to select sample
from (default: <code>None</code>)</li>
<li><code>-o</code>, <code>--sampled_subset</code> (str) - Subset name to put sampled data
to (default: <code>sample</code>)</li>
<li><code>-u</code>, <code>--unsampled_subset</code> (str) - Subset name to put the
rest data to (default: <code>unsampled</code>)</li>
<li><code>-m</code>, <code>--sampling_method</code> (one of: <code>topk</code>, <code>lowk</code>, <code>randk</code>, <code>mixk</code>,
<code>randtopk</code>) - Sampling method (default: <code>topk</code>)</li>
<li><code>-d</code>, <code>--output_file</code> (path) - A <code>.csv</code> file path to dump sampling results</li>
</ul>
<p>Examples:
Select the most relevant data subset of 20 images
based on model certainty, put the result into <code>sample</code> subset
and put all the rest into <code>unsampled</code> subset, use <code>train</code> subset
as input. The dataset <strong>must</strong> contain model confidence values in the <code>scores</code>
attributes of annotations.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t relevancy_sampler -- <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  --algorithm entropy <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  --subset_name train <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  --sample_name sample <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  --unsampled_name unsampled <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  --sampling_method topk -k <span style="color:#0000cf;font-weight:bold">20</span>
</code></pre></div><p><a id="random_sampler-transform"></a></p>
<h5 id="random_sampler"><code>random_sampler</code></h5>
<p>Sampler that keeps no more than required number of items in the dataset.</p>
<p>Notes:</p>
<ul>
<li>Items are selected uniformly (tries to keep original item distribution
by subsets)</li>
<li>Requesting a sample larger than the number of all images will return
all images</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">random_sampler <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> -k COUNT <span style="color:#ce5c00;font-weight:bold">[</span>-s SUBSET<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--seed SEED<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-k</code>, <code>--count</code> (int) - Maximum number of items to sample</li>
<li><code>-s</code>, <code>--subset</code> (str) - Limit changes to this subset
(default: affect all dataset)</li>
<li><code>--seed</code> (int) - Initial value for random number generator</li>
</ul>
<p>Examples:
Select subset of 20 images randomly</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t random_sampler -- -k <span style="color:#0000cf;font-weight:bold">20</span>
</code></pre></div><p>Select subset of 20 images, modify only <code>train</code> subset</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t random_sampler -- -k <span style="color:#0000cf;font-weight:bold">20</span> -s train
</code></pre></div><p><a id="label_random_sampler-transform"></a></p>
<h5 id="random_label_sampler"><code>random_label_sampler</code></h5>
<p>Sampler that keeps at least the required number of annotations of
each class in the dataset for each subset separately.</p>
<p>Consider using the &ldquo;stats&rdquo; command to get class distribution in the dataset.</p>
<p>Notes:</p>
<ul>
<li>Items can contain annotations of several selected classes
(e.g. 3 bounding boxes per image). The number of annotations in the
resulting dataset varies between <code>max(class counts)</code> and <code>sum(class counts)</code></li>
<li>If the input dataset does not has enough class annotations, the result
will contain only what is available</li>
<li>Items are selected uniformly</li>
<li>For reasons above, the resulting class distribution in the dataset may
not be the same as requested</li>
<li>The resulting dataset will only keep annotations for classes with
specified <code>count</code> &gt; 0</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">label_random_sampler <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> -k COUNT <span style="color:#ce5c00;font-weight:bold">[</span>-l LABEL_COUNTS<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--seed SEED<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-k</code>, <code>--count</code> (int) - Minimum number of annotations of each class</li>
<li><code>-l</code>, <code>--label</code> (str; repeatable) - Minimum number of annotations of
a specific class. Overrides the <code>-k/--count</code> setting for the class.
The format is <code>&lt;label_name&gt;:&lt;count&gt;</code></li>
<li><code>--seed</code> (int) - Initial value for random number generator</li>
</ul>
<p>Examples:
Select a dataset with at least 10 images of each class:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t label_random_sampler -- -k <span style="color:#0000cf;font-weight:bold">10</span>
</code></pre></div><p>Select a dataset with at least 20 <code>cat</code> images, 5 <code>dog</code>, 0 <code>car</code> and 10 of each
unmentioned class:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t label_random_sampler -- <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  -l cat:20 <span style="color:#4e9a06">\ </span><span style="color:#8f5902;font-style:italic"># keep 20 images with cats</span>
  -l dog:5 <span style="color:#4e9a06">\ </span><span style="color:#8f5902;font-style:italic"># keep 5 images with dogs</span>
  -l car:0 <span style="color:#4e9a06">\ </span><span style="color:#8f5902;font-style:italic"># remove car annotations</span>
  -k <span style="color:#0000cf;font-weight:bold">10</span> <span style="color:#8f5902;font-style:italic"># for remaining classes</span>
</code></pre></div><p><a id="resize-transform"></a></p>
<h5 id="resize"><code>resize</code></h5>
<p>Resizes images and annotations in the dataset to the specified size.
Supports upscaling, downscaling and mixed variants.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">resize <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-dw WIDTH<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-dh HEIGHT<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-dw</code>, <code>--width</code> (int) - Destination image width</li>
<li><code>-dh</code>, <code>--height</code> (int) - Destination image height</li>
</ul>
<p>Examples:
Resize all images to 256x256 size</p>
<pre><code>datum transform -t resize -- -dw 256 -dh 256
</code></pre><p><a id="remove_images-transform"></a></p>
<h5 id="remove_images"><code>remove_images</code></h5>
<p>Removes specific dataset items by their ids.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">remove_images <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--id IDs<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>--id</code> (str) - Item id to remove. Id is &lsquo;<name>:<subset>&rsquo; pair (repeatable)</li>
</ul>
<p>Examples:</p>
<p>Remove specific images from the dataset</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t remove_images -- --id <span style="color:#4e9a06">&#39;image1:train&#39;</span> --id <span style="color:#4e9a06">&#39;image2:test&#39;</span>
</code></pre></div><p><a id="remove_annotations-transform"></a></p>
<h5 id="remove_annotations"><code>remove_annotations</code></h5>
<p>Allows to remove annotations on specific dataset items.</p>
<p>Can be useful to clean the dataset from broken or unnecessary annotations.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">remove_annotations <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--id IDs<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>--id</code> (str) - Item id to clean from annotations. Id is &lsquo;<name>:<subset>&rsquo; pair.
If not specified, removes all annotations (repeatable)</li>
</ul>
<p>Examples:
Remove annotations from specific items in the dataset</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t remove_annotations -- --id <span style="color:#4e9a06">&#39;image1:train&#39;</span> --id <span style="color:#4e9a06">&#39;image2:test&#39;</span>
</code></pre></div><p><a id="remove_attributes-transform"></a></p>
<h5 id="remove_attributes"><code>remove_attributes</code></h5>
<p>Allows to remove item and annotation attributes in a dataset.</p>
<p>Can be useful to clean the dataset from broken or unnecessary attributes.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">remove_attributes <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--id IDs<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--attr ATTRIBUTE_NAME<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>--id</code> (str) - Image id to clean from annotations. Id is &lsquo;<name>:<subset>&rsquo; pair.
If not specified, affects all items and annotations (repeatable)</li>
<li><code>-a</code>, <code>--attr</code> (flag) - Attribute name to be removed. If not specified,
removes all attributes (repeatable)</li>
</ul>
<p>Examples:
Remove the <code>is_crowd</code> attribute from dataset</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t remove_attributes -- <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  --attr <span style="color:#4e9a06">&#39;is_crowd&#39;</span>
</code></pre></div><p>Remove the <code>occluded</code> attribute from annotations of
the <code>2010_001705</code> item in the <code>train</code> subset</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t remove_attributes -- <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  --id <span style="color:#4e9a06">&#39;2010_001705:train&#39;</span> --attr <span style="color:#4e9a06">&#39;occluded&#39;</span>
</code></pre></div><p><a id="random_split-transform"></a></p>
<h5 id="random_split"><code>random_split</code></h5>
<p>Joins all subsets into one and splits the result into few parts.
It is expected that item ids are unique and subset ratios sum up to 1.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">random_split <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-s SPLITS<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--seed SEED<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-s</code>, <code>--subset</code> (str, repeatable) - Subsets in the form: &lsquo;<subset>:<ratio>&rsquo;
(repeatable, default: {<code>train</code>: 0.67, <code>test</code>: 0.33})</li>
<li><code>--seed</code> (int) - Random seed</li>
</ul>
<p>Example:
Split a dataset randomly to <code>train</code> and <code>test</code> subsets, ratio is 2:1</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t random_split -- --subset train:.67 --subset test:.33
</code></pre></div><p><a id="split-transform"></a></p>
<h5 id="split"><code>split</code></h5>
<p>Splits a dataset for model training, using task information:</p>
<ul>
<li>
<p>classification splits
Splits dataset into subsets (train/val/test) in class-wise manner.
Splits dataset images in the specified ratio, keeping the initial
class distribution.</p>
</li>
<li>
<p>detection &amp; segmentation splits
Each image can have multiple object annotations - bbox, mask, polygon.
Since an image shouldn&rsquo;t be included in multiple subsets at the same time,
and image annotations shouldn&rsquo;t be split, in general, dataset annotations are
unlikely to be split exactly in the specified ratio.
This split tries to split dataset images as close as possible to the specified
ratio, keeping the initial class distribution.</p>
</li>
<li>
<p>reidentification splits
In this task, the test set should consist of images of unseen people or
objects during the training phase.
This function splits a dataset in the following way:</p>
</li>
</ul>
<ol>
<li>Splits the dataset into <code>train + val</code> and <code>test</code> sets
based on person or object ID.</li>
<li>Splits <code>test</code> set into <code>test-gallery</code> and <code>test-query</code> sets
in class-wise manner.</li>
<li>Splits the <code>train + val</code> set into <code>train</code> and <code>val</code> sets
in the same way.
The final subsets would be <code>train</code>, <code>val</code>, <code>test-gallery</code> and <code>test-query</code>.</li>
</ol>
<p>Notes:</p>
<ul>
<li>Each image is expected to have only one <code>Annotation</code>. Unlabeled or
multi-labeled images will be split into subsets randomly.</li>
<li>If Labels also have attributes, also splits by attribute values.</li>
<li>If there is not enough images in some class or attributes group,
the split ratio can&rsquo;t be guaranteed.</li>
</ul>
<p>In reidentification task,</p>
<ul>
<li>Object ID can be described by Label, or by attribute (<code>--attr</code> parameter)</li>
<li>The splits of the test set are controlled by <code>--query</code> parameter
Gallery ratio would be <code>1.0 - query</code>.</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-t <span style="color:#ce5c00;font-weight:bold">{</span>classification,detection,segmentation,reid<span style="color:#ce5c00;font-weight:bold">}]</span>
  <span style="color:#ce5c00;font-weight:bold">[</span>-s SPLITS<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--query QUERY<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--attr ATTR_FOR_ID<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--seed SEED<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-t</code>, <code>--task</code> (one of: <code>classification</code>, <code>detection</code>, <code>segmentation</code>,
<code>reid</code>) - Dataset task (default: <code>classification</code>)</li>
<li><code>-s</code>, <code>--subset</code> (str; repeatable) - Subsets in the form: &lsquo;<subset>:<ratio>&rsquo;
(default: {<code>train</code>: 0.5, <code>val</code>: 0.2, <code>test</code>: 0.3})</li>
<li><code>--query</code> (float) - Query ratio in the test set (default: 0.5)</li>
<li><code>--attr</code> (str) - Attribute name representing the ID (default: use label)</li>
<li><code>--seed</code>(int) - Random seed</li>
</ul>
<p>Example:</p>
<pre><code>datum transform -t split -- -t classification \
  --subset train:.5 --subset val:.2 --subset test:.3

datum transform -t split -- -t detection \
  --subset train:.5 --subset val:.2 --subset test:.3

datum transform -t split -- -t segmentation \
  --subset train:.5 --subset val:.2 --subset test:.3

datum transform -t split -- -t reid \
  --subset train:.5 --subset val:.2 --subset test:.3 --query .5
</code></pre><p>Example: use <code>person_id</code> attribute for splitting</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t split -- -t detection --attr person_id
</code></pre></div><p><a id="map_subsets-transform"></a></p>
<h5 id="map_subsets"><code>map_subsets</code></h5>
<p>Renames subsets in the dataset.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">map_subsets <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-s MAPPING<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-s</code>, <code>--subset</code> (str; repeatable) - Subset mapping of the form: <code>src:dst</code></li>
</ul>
<p><a id="remap_labels-transform"></a></p>
<h5 id="remap_labels"><code>remap_labels</code></h5>
<p>Changes labels in the dataset.</p>
<p>A label can be:</p>
<ul>
<li>renamed (and joined with existing) -
when <code>--label &lt;old_name&gt;:&lt;new_name&gt;</code> is specified</li>
<li>deleted - when <code>--label &lt;name&gt;:</code> is specified, or default action is <code>delete</code>
and the label is not mentioned in the list. When a label
is deleted, all the associated annotations are removed</li>
<li>kept unchanged - when <code>--label &lt;name&gt;:&lt;name&gt;</code> is specified,
or default action is <code>keep</code> and the label is not mentioned in the list
Annotations with no label are managed by the default action policy.</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">remap_labels <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-l MAPPING<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--default <span style="color:#ce5c00;font-weight:bold">{</span>keep,delete<span style="color:#ce5c00;font-weight:bold">}]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-l</code>, <code>--label</code> (str; repeatable) - Label in the form of: <code>&lt;src&gt;:&lt;dst&gt;</code></li>
<li><code>--default</code> (one of: <code>keep</code>, <code>delete</code>) - Action for unspecified labels
(default: <code>keep</code>)</li>
</ul>
<p>Examples:
Remove the <code>person</code> label (and corresponding annotations):</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t remap_labels -- -l person: --default keep
</code></pre></div><p>Rename <code>person</code> to <code>pedestrian</code> and <code>human</code> to <code>pedestrian</code>, join annotations
that had different classes under the same class id for <code>pedestrian</code>,
don&rsquo;t touch other classes:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t remap_labels -- <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  -l person:pedestrian -l human:pedestrian --default keep
</code></pre></div><p>Rename <code>person</code> to <code>car</code> and <code>cat</code> to <code>dog</code>, keep <code>bus</code>, remove others:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t remap_labels -- <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>  -l person:car -l bus:bus -l cat:dog --default delete
</code></pre></div><p><a id="project_labels-transform"></a></p>
<h5 id="project_labels"><code>project_labels</code></h5>
<p>Changes the order of labels in the dataset from the existing
to the desired one, removes unknown labels and adds new labels.
Updates or removes the corresponding annotations.</p>
<p>Labels are matched by names (case dependent). Parent labels are
only kept if they are present in the resulting set of labels.
If new labels are added, and the dataset has mask colors defined,
new labels will obtain generated colors.</p>
<p>Useful for merging similar datasets, whose labels need to be aligned.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">project_labels <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>-l DST_LABELS<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>-l</code>, <code>--label</code> (str; repeatable) - Label name (ordered)</li>
</ul>
<p>Examples:
Set dataset labels to [<code>person</code>, <code>cat</code>, <code>dog</code>], remove others, add missing.
Original labels (for example): <code>cat</code>, <code>dog</code>, <code>elephant</code>, <code>human</code>.
New labels: <code>person</code> (added), <code>cat</code> (kept), <code>dog</code> (kept).</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t project_labels -- -l person -l cat -l dog
</code></pre></div><p><a id="shapes_to_boxes-transform"></a></p>
<h5 id="shapes_to_boxes"><code>shapes_to_boxes</code></h5>
<p>Converts spatial annotations (masks, polygons, polylines, points)
to enclosing bounding boxes.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">shapes_to_boxes <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
</ul>
<p>Example:
Convert spatial annotations between each other</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">datum transform -t boxes_to_masks
datum transform -t masks_to_polygons
datum transform -t polygons_to_masks
datum transform -t shapes_to_boxes
</code></pre></div><p><a id="boxes_to_masks-transform"></a></p>
<h5 id="boxes_to_masks"><code>boxes_to_masks</code></h5>
<p>Converts bounding boxes to masks.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">boxes_to_masks <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
</ul>
<p><a id="polygons_to_masks-transform"></a></p>
<h5 id="polygons_to_masks"><code>polygons_to_masks</code></h5>
<p>Converts polygons to masks.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">polygons_to_masks <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
</ul>
<p><a id="masks_to_polygons-transform"></a></p>
<h5 id="masks_to_polygons"><code>masks_to_polygons</code></h5>
<p>Converts masks to polygons.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">masks_to_polygons <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
</ul>
<p><a id="anns_to_labels-transform"></a></p>
<h5 id="anns_to_labels"><code>anns_to_labels</code></h5>
<p>Collects all labels from annotations (of all types) and transforms
them into a set of annotations of type <code>Label</code></p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">anns_to_labels <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
</ul>
<p><a id="merge_instance_segments-transform"></a></p>
<h5 id="merge_instance_segments"><code>merge_instance_segments</code></h5>
<p>Replaces instance masks and, optionally, polygons with a single mask.
A group of annotations with the same group id is considered an &ldquo;instance&rdquo;.
The largest annotation in the group is considered the group &ldquo;head&rdquo;, so the
resulting mask takes properties from that annotation.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">merge_instance_segments <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>--include-polygons<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
<li><code>--include-polygons</code> (flag) - Include polygons</li>
</ul>
<p><a id="crop_covered_segments-transform"></a></p>
<h5 id="crop_covered_segments"><code>crop_covered_segments</code></h5>
<p>Sorts polygons and masks (&ldquo;segments&rdquo;) according to <code>z_order</code>,
crops covered areas of underlying segments. If a segment is split
into several independent parts by the segments above, produces
the corresponding number of separate annotations joined into a group.</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">crop_covered_segments <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
</ul>
<p><a id="bbox_value_decrement-transform"></a></p>
<h5 id="bbox_value_decrement"><code>bbox_value_decrement</code></h5>
<p>Subtracts one from the coordinates of bounding boxes</p>
<p>Usage:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">bbox_values_decrement <span style="color:#ce5c00;font-weight:bold">[</span>-h<span style="color:#ce5c00;font-weight:bold">]</span>
</code></pre></div><p>Optional arguments:</p>
<ul>
<li><code>-h</code>, <code>--help</code> (flag) - Show this help message and exit</li>
</ul>

	
	
	<div class="text-muted mt-5 pt-3 border-top">

</div>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-2 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="" aria-label="">
    <a class="text-white" rel="noopener noreferrer" href="">
      <i class=""></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-2 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" rel="noopener noreferrer" href="https://github.com/openvinotoolkit/datumaro">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-8 text-center order-sm-2">
        <small class="mr-1"><a href="https://www.intel.com/content/www/us/en/privacy/intel-privacy-notice.html">Privacy Policy</a></small>
        |
        <small class="mx-1"><a href="https://www.intel.com/content/www/us/en/legal/terms-of-use.html">Terms of Use</a></small>
        <br/>
        <div class="footer-disclaimer text-white ">
          <small>Intel technologies may require enabled hardware, software or service activation. // No product or component can be absolutely secure. // Your costs and results may vary. // Performance varies by use, configuration and other factors. // See our complete legal <u><a href="https://edc.intel.com/content/www/us/en/products/performance/benchmarks/overview/?r=219444055">Notices and Disclaimers</a></u>. // Intel is committed to respecting human rights and avoiding complicity in human rights abuses. See Intel’s <a href="https://www.intel.com/content/www/us/en/policy/policy-human-rights.html"><u>Global Human Rights Principles</u></a>. Intel’s products and software are intended only to be used in applications that do not cause or contribute to a violation of an internationally recognized human right.</small>
        </div>
        
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>


<script src="https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js" integrity="sha384-uQikAXnCAqsMb3ygtdqBYvcwvHUkzGIpjdGyy9owhURXHUxLC5LgTcSxJQH/RzjK" crossorigin="anonymous"></script>





 













<script src="../../../../js/main.min.ee00f42d1b949caa55ccf416202998d65afac8f58091e2719c89d4fc3518550e.js" integrity="sha256-7gD0LRuUnKpVzPQWICmY1lr6yPWAkeJxnInU/DUYVQ4=" crossorigin="anonymous"></script>



<script src='../../../../js/prism.js'></script>



  </body>
</html>