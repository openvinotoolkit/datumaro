<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.83.1" /><META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../favicons/android-192x192.png" sizes="192x192">

<title>Dataset Management Framework (Datumaro) API and developer manual | Dataset Management Framework</title>
<meta name="description" content=""><meta property="og:title" content="Dataset Management Framework (Datumaro) API and developer manual" />
<meta property="og:description" content="Basics The center part of the library is the Dataset class, which represents a dataset and allows to iterate over its elements. DatasetItem, an element of a dataset, represents a single dataset entry with annotations - an image, video sequence, audio track etc. It can contain only annotated data or meta information, only annotations, or all of this.
Basic library usage and data flow:
Extractors -&gt; Dataset -&gt; Converter | Filtration Transformations Statistics Merging Inference Quality Checking Comparison ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/developer_manual/" /><meta property="article:section" content="docs" />

<meta property="og:site_name" content="Dataset Management Framework" />

<meta itemprop="name" content="Dataset Management Framework (Datumaro) API and developer manual">
<meta itemprop="description" content="Basics The center part of the library is the Dataset class, which represents a dataset and allows to iterate over its elements. DatasetItem, an element of a dataset, represents a single dataset entry with annotations - an image, video sequence, audio track etc. It can contain only annotated data or meta information, only annotations, or all of this.
Basic library usage and data flow:
Extractors -&gt; Dataset -&gt; Converter | Filtration Transformations Statistics Merging Inference Quality Checking Comparison .">

<meta itemprop="wordCount" content="1394">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Dataset Management Framework (Datumaro) API and developer manual"/>
<meta name="twitter:description" content="Basics The center part of the library is the Dataset class, which represents a dataset and allows to iterate over its elements. DatasetItem, an element of a dataset, represents a single dataset entry with annotations - an image, video sequence, audio track etc. It can contain only annotated data or meta information, only annotations, or all of this.
Basic library usage and data flow:
Extractors -&gt; Dataset -&gt; Converter | Filtration Transformations Statistics Merging Inference Quality Checking Comparison ."/>




<link rel="preload" href="../../scss/main.min.7739044bd284ace8b77f1ace79422fd408a2224eb69c6b8d48ef94dde2a179d5.css" as="style">
<link href="../../scss/main.min.7739044bd284ace8b77f1ace79422fd408a2224eb69c6b8d48ef94dde2a179d5.css" rel="stylesheet" integrity="">


<script
  src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>






<link rel="stylesheet" href="../../css/prism.css"/>




  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="../../docs">
    <span class="navbar-logo"></span><span class="font-weight-bold">Dataset Management Framework</span>
  </a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      
      
        <li class="nav-item mr-4 mb-2 mb-lg-0">
          
          
          
          
          
          
          <a class="nav-link" href="https://github.com/openvinotoolkit/datumaro"  ><i class='fab fa-github'></i><span>GitHub</span></a>
        </li>
      
        <li class="nav-item mr-4 mb-2 mb-lg-0" id="api">
          <a class="nav-link" href="../../api">API documentation</a>
        </li>
      
        <li class="nav-item dropdown mr-4 d-lg-block">
          

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  v0.1.11
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
  
    
      <a class="dropdown-item" href="../../../docs/developer_manual/">develop</a>
  
    
      <a class="dropdown-item" href="../../../v0.1.11/docs/developer_manual/">v0.1.11</a>
  
    
      <a class="dropdown-item" href="../../../v0.2/docs/developer_manual/">v0.2</a>
  
    
      <a class="dropdown-item" href="../../../v0.2.1/docs/developer_manual/">v0.2.1</a>
  
    
      <a class="dropdown-item" href="../../../v0.2.2/docs/developer_manual/">v0.2.2</a>
  
    
      <a class="dropdown-item" href="../../../v0.2.3/docs/developer_manual/">v0.2.3</a>
  
    
      <a class="dropdown-item" href="../../../v0.3/docs/developer_manual/">v0.3</a>
  
    
      <a class="dropdown-item" href="../../../v0.3.1/docs/developer_manual/">v0.3.1</a>
  
    
      <a class="dropdown-item" href="../../../v0.4.0.1/docs/developer_manual/">v0.4.0.1</a>
  
    
      <a class="dropdown-item" href="../../../v0.5.0/docs/developer_manual/">v0.5.0</a>
  
    
      <a class="dropdown-item" href="../../../v1.0.0/docs/developer_manual/">v1.0.0</a>
  
    
      <a class="dropdown-item" href="../../../v1.1.0/docs/developer_manual/">v1.1.0</a>
  
    
      <a class="dropdown-item" href="../../../v1.1.1/docs/developer_manual/">v1.1.1</a>
  
</div>

        </li>
      
      
    </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../offline-search-index.34baac9cd79acf0e17f6bc8829702639.json"
  data-offline-search-base-href="../../"
  data-offline-search-max-results="10"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <div id="content-mobile">
  <form class="td-sidebar__search d-flex align-items-center">
    



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../offline-search-index.34baac9cd79acf0e17f6bc8829702639.json"
  data-offline-search-base-href="../../"
  data-offline-search-max-results="10"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  </div>
  <div id="content-desktop"></div>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docs-li">
  <a href="../../docs/" title="Dataset Management Framework Documentation" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsgetting_started-li">
  <a href="../../docs/getting_started/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsgetting_started"><span class="">Getting started</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdesign-li">
  <a href="../../docs/design/" title="Datumaro Design" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsdesign"><span class="">Design</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsuser-manual-li">
  <a href="../../docs/user-manual/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsuser-manual"><span class="">User Manual</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualinstallation-li">
  <a href="../../docs/user-manual/installation/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualinstallation"><span class="">Installation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualinterfaces-li">
  <a href="../../docs/user-manual/interfaces/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualinterfaces"><span class="">Interfaces</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualsupported-formats-li">
  <a href="../../docs/user-manual/supported-formats/" title="Supported dataset formats and annotations" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualsupported-formats"><span class="">Supported Formats</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualdata-formats-li">
  <a href="../../docs/user-manual/data-formats/" title="Supported data formats" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualdata-formats"><span class="">Data formats</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-line-workflow-li">
  <a href="../../docs/user-manual/command-line-workflow/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-line-workflow"><span class="">Command line workflow</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docsuser-manualcommand-reference-li">
  <a href="../../docs/user-manual/command-reference/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsuser-manualcommand-reference"><span class="">Command reference</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceconvert-datasets-li">
  <a href="../../docs/user-manual/command-reference/convert-datasets/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceconvert-datasets"><span class="">Convert datasets</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencecreate-project-li">
  <a href="../../docs/user-manual/command-reference/create-project/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencecreate-project"><span class="">Create project</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceadd-and-remove-data-li">
  <a href="../../docs/user-manual/command-reference/add-and-remove-data/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceadd-and-remove-data"><span class="">Add and remove data</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencefilter-project-li">
  <a href="../../docs/user-manual/command-reference/filter-project/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencefilter-project"><span class="">Filter project</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceupdate-project-li">
  <a href="../../docs/user-manual/command-reference/update-project/" title="Update project (merge)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceupdate-project"><span class="">Update project</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceimport-project-li">
  <a href="../../docs/user-manual/command-reference/import-project/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceimport-project"><span class="">Import project</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceexport-project-li">
  <a href="../../docs/user-manual/command-reference/export-project/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceexport-project"><span class="">Export project</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencemerge-projects-li">
  <a href="../../docs/user-manual/command-reference/merge-projects/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencemerge-projects"><span class="">Merge projects</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencecompare-projects-li">
  <a href="../../docs/user-manual/command-reference/compare-projects/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencecompare-projects"><span class="">Compare projects</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceget-project-info-li">
  <a href="../../docs/user-manual/command-reference/get-project-info/" title="Obtaining project info" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceget-project-info"><span class="">Get project info</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceget-project-statistics-li">
  <a href="../../docs/user-manual/command-reference/get-project-statistics/" title="Obtaining project statistics" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceget-project-statistics"><span class="">Get project statistics</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencevalidate-project-annotations-li">
  <a href="../../docs/user-manual/command-reference/validate-project-annotations/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencevalidate-project-annotations"><span class="">Validate project annotations</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceregister-model-li">
  <a href="../../docs/user-manual/command-reference/register-model/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceregister-model"><span class="">Register model</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencerun-model-li">
  <a href="../../docs/user-manual/command-reference/run-model/" title="Run inference" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencerun-model"><span class="">Run model</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referenceexplain-inference-li">
  <a href="../../docs/user-manual/command-reference/explain-inference/" title="Run inference explanation" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referenceexplain-inference"><span class="">Explain inference</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualcommand-referencetransform-project-li">
  <a href="../../docs/user-manual/command-reference/transform-project/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualcommand-referencetransform-project"><span class="">Transform Project</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manualextending-li">
  <a href="../../docs/user-manual/extending/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manualextending"><span class="">Extending</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuser-manuallinks-li">
  <a href="../../docs/user-manual/links/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuser-manuallinks"><span class="">Links</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-docsdeveloper_manual-li">
  <a href="../../docs/developer_manual/" title="Dataset Management Framework (Datumaro) API and developer manual" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id="m-docsdeveloper_manual"><span class="td-sidebar-nav-active-item">Developer Manual</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsformats-li">
  <a href="../../docs/formats/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsformats"><span class="">Formats</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsade20k2017-li">
  <a href="../../docs/formats/ade20k2017/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsade20k2017"><span class="">ADE20k (v2017)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsade20k2020-li">
  <a href="../../docs/formats/ade20k2020/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsade20k2020"><span class="">ADE20k (v2020)</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatscifar-li">
  <a href="../../docs/formats/cifar/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatscifar"><span class="">CIFAR</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatscityscapes-li">
  <a href="../../docs/formats/cityscapes/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatscityscapes"><span class="">Cityscapes</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatscoco-li">
  <a href="../../docs/formats/coco/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatscoco"><span class="">COCO</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsimage_zip-li">
  <a href="../../docs/formats/image_zip/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsimage_zip"><span class="">Image zip</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatskitti_raw-li">
  <a href="../../docs/formats/kitti_raw/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatskitti_raw"><span class="">Velodyne Points / KITTI Raw 3D</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatskitti-li">
  <a href="../../docs/formats/kitti/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatskitti"><span class="">KITTI</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsmnist-li">
  <a href="../../docs/formats/mnist/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsmnist"><span class="">MNIST</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsopen_images-li">
  <a href="../../docs/formats/open_images/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsopen_images"><span class="">Open Images</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatspascal_voc-li">
  <a href="../../docs/formats/pascal_voc/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatspascal_voc"><span class="">Pascal VOC</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatssly_pointcloud-li">
  <a href="../../docs/formats/sly_pointcloud/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatssly_pointcloud"><span class="">Supervisely Point Cloud</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsformatsyolo-li">
  <a href="../../docs/formats/yolo/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsformatsyolo"><span class="">YOLO</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsplugins-li">
  <a href="../../docs/plugins/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsplugins"><span class="">Plugins</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docspluginsopenvino_plugin-li">
  <a href="../../docs/plugins/openvino_plugin/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docspluginsopenvino_plugin"><span class="">OpenVINO™ Inference Interpreter</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscontributing-li">
  <a href="../../docs/contributing/" title="Contribution Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscontributing"><span class="">Contributing</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsrelease_notes-li">
  <a href="../../docs/release_notes/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsrelease_notes"><span class="">Release notes</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
  
  
  
  
  
  
  <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
  
    
    
      
    
    
    
    
    
    
    

    <a href="https://github.com/openvinotoolkit/datumaro/edit/develop/site/content/en/docs/developer_manual.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
    <a href="https://github.com/openvinotoolkit/datumaro/new/develop/site/content/en/docs/developer_manual.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" target="_blank"><i class="fa fa-edit fa-fw"></i> Create child page</a>
    <a href="https://github.com/openvinotoolkit/datumaro/issues/new?title=Dataset%20Management%20Framework%20%28Datumaro%29%20API%20and%20developer%20manual" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
    
      
      <a href="https://github.com/openvinotoolkit/datumaro/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
    

  
  
    <a id="print" href="../../docs/_print/"><i class="fa fa-print fa-fw"></i> Print entire section</a>
  
  </div>


            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#basics">Basics</a>
      <ul>
        <li><a href="#the-dataset-class">The Dataset class</a></li>
        <li><a href="#projects">Projects</a></li>
      </ul>
    </li>
    <li><a href="#library-contents">Library contents</a>
      <ul>
        <li><a href="#dataset-formats">Dataset Formats</a></li>
        <li><a href="#dataset-conversions-transforms">Dataset Conversions (&ldquo;Transforms&rdquo;)</a></li>
        <li><a href="#model-launchers">Model launchers</a></li>
      </ul>
    </li>
    <li><a href="#plugins">Plugins</a>
      <ul>
        <li><a href="#writing-a-plugin">Writing a plugin</a></li>
      </ul>
    </li>
    <li><a href="#command-line">Command-line</a></li>
  </ul>
</nav></div>



            

	
		



  
  

	
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		







<li class="breadcrumb-item" >
	<a href="../../docs/">Documentation</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="../../docs/developer_manual/">Developer Manual</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Dataset Management Framework (Datumaro) API and developer manual</h1>
	
	<header class="article-meta">
		
		
			
				


			
				


			
		
		
	</header>    
	<h2 id="basics">Basics</h2>
<p>The center part of the library is the <code>Dataset</code> class, which represents
a dataset and allows to iterate over its elements.
<code>DatasetItem</code>, an element of a dataset, represents a single
dataset entry with annotations - an image, video sequence, audio track etc.
It can contain only annotated data or meta information, only annotations, or
all of this.</p>
<p>Basic library usage and data flow:</p>
<pre><code class="language-lang-none" data-lang="lang-none">Extractors -&gt; Dataset -&gt; Converter
                 |
             Filtration
          Transformations
             Statistics
              Merging
             Inference
          Quality Checking
             Comparison
                ...
</code></pre><ol>
<li>Data is read (or produced) by one or many <code>Extractor</code>s and merged
into a <code>Dataset</code></li>
<li>The dataset is processed in some way</li>
<li>The dataset is saved with a <code>Converter</code></li>
</ol>
<p>Datumaro has a number of dataset and annotation features:</p>
<ul>
<li>iteration over dataset elements</li>
<li>filtering of datasets and annotations by a custom criteria</li>
<li>working with subsets (e.g. <code>train</code>, <code>val</code>, <code>test</code>)</li>
<li>computing of dataset statistics</li>
<li>comparison and merging of datasets</li>
<li>various annotation operations</li>
</ul>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.dataset</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Dataset</span>
<span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.extractor</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Bbox</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">Polygon</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">DatasetItem</span>

<span style="color:#8f5902;font-style:italic"># Import and export a dataset</span>
<span style="color:#000">dataset</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Dataset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">import_from</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;src/dir&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;voc&#39;</span><span style="color:#000;font-weight:bold">)</span>
<span style="color:#000">dataset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">export</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;dst/dir&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;coco&#39;</span><span style="color:#000;font-weight:bold">)</span>

<span style="color:#8f5902;font-style:italic"># Create a dataset, convert polygons to masks, save in PASCAL VOC format</span>
<span style="color:#000">dataset</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Dataset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">from_iterable</span><span style="color:#000;font-weight:bold">([</span>
  <span style="color:#000">DatasetItem</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">id</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#39;image1&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">annotations</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000;font-weight:bold">[</span>
    <span style="color:#000">Bbox</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">x</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">y</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">w</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">h</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">label</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">),</span>
    <span style="color:#000">Polygon</span><span style="color:#000;font-weight:bold">([</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">label</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">attributes</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000;font-weight:bold">{</span><span style="color:#4e9a06">&#39;occluded&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#3465a4">True</span><span style="color:#000;font-weight:bold">}),</span>
  <span style="color:#000;font-weight:bold">]),</span>
<span style="color:#000;font-weight:bold">],</span> <span style="color:#000">categories</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;cat&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;dog&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;person&#39;</span><span style="color:#000;font-weight:bold">])</span>
<span style="color:#000">dataset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">transform</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;polygons_to_masks&#39;</span><span style="color:#000;font-weight:bold">)</span>
<span style="color:#000">dataset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">export</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;dst/dir&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;voc&#39;</span><span style="color:#000;font-weight:bold">)</span>
</code></pre></div><h3 id="the-dataset-class">The Dataset class</h3>
<p>The <code>Dataset</code> class from the <code>datumaro.components.dataset</code> module represents
a dataset, consisting of multiple <code>DatasetItem</code>s. Annotations are
represented by members of the <code>datumaro.components.extractor</code> module,
such as <code>Label</code>, <code>Mask</code> or <code>Polygon</code>. A dataset can contain items from one or
multiple subsets (e.g. <code>train</code>, <code>test</code>, <code>val</code> etc.), the list of dataset subsets
is available at <code>dataset.subsets</code>.</p>
<p>Datasets typically have annotations, and these annotations can
require additional information to be interpreted correctly. For instance, it
can include class names, class hierarchy, keypoint connections,
class colors for masks, class attributes.
This information is stored in <code>dataset.categories</code>, which is a mapping from
<code>AnnotationType</code> to a corresponding <code>...Categories</code> class. Each annotation type
can have its <code>Categories</code>. Typically, there will be a <code>LabelCategories</code> object.
Annotations and other categories address dataset labels
by their indices in this object.</p>
<p>The main operation for a dataset is iteration over its elements.
An item corresponds to a single image, a video sequence, etc. There are also
few other operations available, such as filtration (<code>dataset.select</code>) and
transformations (<code>dataset.transform</code>). A dataset can be created from extractors
or other datasets with <code>Dataset.from_extractors()</code> and directly from items with
<code>Dataset.from_iterable()</code>. A dataset is an extractor itself. If it is created
from multiple extractors, their categories must match, and their contents
will be merged.</p>
<p>A dataset item is an element of a dataset. Its <code>id</code> is a name of a
corresponding image. There can be some image <code>attributes</code>,
an <code>image</code> and <code>annotations</code>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.dataset</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Dataset</span>
<span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.extractor</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Bbox</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">Polygon</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">DatasetItem</span>

<span style="color:#8f5902;font-style:italic"># create a dataset from other datasets</span>
<span style="color:#000">dataset</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Dataset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">from_extractors</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dataset1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">dataset2</span><span style="color:#000;font-weight:bold">)</span>

<span style="color:#8f5902;font-style:italic"># or directly from items</span>
<span style="color:#000">dataset</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Dataset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">from_iterable</span><span style="color:#000;font-weight:bold">([</span>
  <span style="color:#000">DatasetItem</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">id</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#39;image1&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">annotations</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000;font-weight:bold">[</span>
    <span style="color:#000">Bbox</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">x</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">y</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">w</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">h</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">label</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">),</span>
    <span style="color:#000">Polygon</span><span style="color:#000;font-weight:bold">([</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">label</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">),</span>
  <span style="color:#000;font-weight:bold">]),</span>
<span style="color:#000;font-weight:bold">],</span> <span style="color:#000">categories</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;cat&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;dog&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;person&#39;</span><span style="color:#000;font-weight:bold">])</span>

<span style="color:#8f5902;font-style:italic"># keep only annotated images</span>
<span style="color:#000">dataset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">select</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">lambda</span> <span style="color:#000">item</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87">len</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">item</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">annotations</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)</span>

<span style="color:#8f5902;font-style:italic"># change dataset labels</span>
<span style="color:#000">dataset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">transform</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;remap_labels&#39;</span><span style="color:#000;font-weight:bold">,</span>
  <span style="color:#000;font-weight:bold">{</span><span style="color:#4e9a06">&#39;cat&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;dog&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#8f5902;font-style:italic"># rename cat to dog</span>
    <span style="color:#4e9a06">&#39;truck&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;car&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#8f5902;font-style:italic"># rename truck to car</span>
    <span style="color:#4e9a06">&#39;person&#39;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#8f5902;font-style:italic"># remove this label</span>
  <span style="color:#000;font-weight:bold">},</span> <span style="color:#000">default</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#39;delete&#39;</span><span style="color:#000;font-weight:bold">)</span>

<span style="color:#8f5902;font-style:italic"># iterate over elements</span>
<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">item</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">dataset</span><span style="color:#000;font-weight:bold">:</span>
  <span style="color:#204a87;font-weight:bold">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">item</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">item</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">annotations</span><span style="color:#000;font-weight:bold">)</span>

<span style="color:#8f5902;font-style:italic"># iterate over subsets as Datasets</span>
<span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">subset_name</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">subset</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">dataset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">subsets</span><span style="color:#000;font-weight:bold">()</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">items</span><span style="color:#000;font-weight:bold">():</span>
  <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">item</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">subset</span><span style="color:#000;font-weight:bold">:</span>
    <span style="color:#204a87;font-weight:bold">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">item</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">item</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">annotations</span><span style="color:#000;font-weight:bold">)</span>
</code></pre></div><h3 id="projects">Projects</h3>
<p>Projects are intended for complex use of Datumaro. They provide means of
persistence, of extending, and CLI operation for Datasets. A project can
be converted to a Dataset with <code>project.make_dataset</code>. Project datasets
can have multiple data sources, which are merged on dataset creation. They
can have a hierarchy. Project configuration is available in <code>project.config</code>.
A dataset can be saved in <code>datumaro_project</code> format.</p>
<p>The <code>Environment</code> class is responsible for accessing built-in and
project-specific plugins. For a project, there is an instance of
related <code>Environment</code> in <code>project.env</code>.</p>
<h2 id="library-contents">Library contents</h2>
<h3 id="dataset-formats">Dataset Formats</h3>
<p>The framework provides functions to read and write datasets in specific formats.
It is supported by <code>Extractor</code>s, <code>Importer</code>s, and <code>Converter</code>s.</p>
<p>Dataset reading is supported by <code>Extractor</code>s and <code>Importer</code>s:</p>
<ul>
<li>An <code>Extractor</code> produces a list of <code>DatasetItem</code>s corresponding to the
dataset. Annotations are available in the <code>DatasetItem.annotations</code> list</li>
<li>An <code>Importer</code> creates a project from a data source location</li>
</ul>
<p>It is possible to add custom <code>Extractor</code>s and <code>Importer</code>s. To do this, you need
to put an <code>Extractor</code> and <code>Importer</code> implementations to a plugin directory.</p>
<p>Dataset writing is supported by <code>Converter</code>s.
A <code>Converter</code> produces a dataset of a specific format from dataset items.
It is possible to add custom <code>Converter</code>s. To do this, you need to put a
<code>Converter</code> implementation script to a plugin directory.</p>
<h3 id="dataset-conversions-transforms">Dataset Conversions (&ldquo;Transforms&rdquo;)</h3>
<p>A <code>Transform</code> is a function for altering a dataset and producing a new one.
It can update dataset items, annotations, classes, and other properties.
A list of available transforms for dataset conversions can be extended by
adding a <code>Transform</code> implementation script into a plugin directory.</p>
<h3 id="model-launchers">Model launchers</h3>
<p>A list of available launchers for model execution can be extended by
adding a <code>Launcher</code> implementation script into a plugin directory.</p>
<h2 id="plugins">Plugins</h2>
<p>Datumaro comes with a number of built-in formats and other tools,
but it also can be extended by plugins. Plugins are optional components,
which dependencies are not installed by default.
In Datumaro there are several types of plugins, which include:</p>
<ul>
<li><code>extractor</code> - produces dataset items from data source</li>
<li><code>importer</code> - recognizes dataset type and creates project</li>
<li><code>converter</code> - exports dataset to a specific format</li>
<li><code>transformation</code> - modifies dataset items or other properties</li>
<li><code>launcher</code> - executes models</li>
</ul>
<p>A plugin is a regular Python module. It must be present in a plugin directory:</p>
<ul>
<li><code>&lt;project_dir&gt;/.datumaro/plugins</code> for project-specific plugins</li>
<li><code>&lt;datumaro_dir&gt;/plugins</code> for global plugins</li>
</ul>
<p>A plugin can be used either via the <code>Environment</code> class instance,
or by regular module importing:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.project</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Environment</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">Project</span>
<span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.plugins.yolo_format.converter</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">YoloConverter</span>

<span style="color:#8f5902;font-style:italic"># Import a dataset</span>
<span style="color:#000">dataset</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Environment</span><span style="color:#000;font-weight:bold">()</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">make_importer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;voc&#39;</span><span style="color:#000;font-weight:bold">)(</span><span style="color:#000">src_dir</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">make_dataset</span><span style="color:#000;font-weight:bold">()</span>

<span style="color:#8f5902;font-style:italic"># Load an existing project, save the dataset in some project-specific format</span>
<span style="color:#000">project</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">Project</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">load</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;project/dir&#39;</span><span style="color:#000;font-weight:bold">)</span>
<span style="color:#000">project</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">env</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">converters</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;custom_format&#39;</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">convert</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dataset</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">save_dir</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">dst_dir</span><span style="color:#000;font-weight:bold">)</span>

<span style="color:#8f5902;font-style:italic"># Save the dataset in some built-in format</span>
<span style="color:#000">Environment</span><span style="color:#000;font-weight:bold">()</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">converters</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;yolo&#39;</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">convert</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dataset</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">save_dir</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">dst_dir</span><span style="color:#000;font-weight:bold">)</span>
<span style="color:#000">YoloConverter</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">convert</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">dataset</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">save_dir</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">dst_dir</span><span style="color:#000;font-weight:bold">)</span>
</code></pre></div><h3 id="writing-a-plugin">Writing a plugin</h3>
<p>A plugin is a Python module with any name, which exports some symbols. Symbols,
starting with <code>_</code> are not exported by default. To export a symbol,
inherit it from one of the special classes:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.extractor</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Importer</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">Extractor</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">Transform</span>
<span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.launcher</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Launcher</span>
<span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.converter</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Converter</span>
</code></pre></div><p>The <code>exports</code> list of the module can be used to override default behaviour:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyComponent1</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">...</span>
<span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyComponent2</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">...</span>
<span style="color:#000">exports</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#000">MyComponent2</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#8f5902;font-style:italic"># exports only MyComponent2</span>
</code></pre></div><p>There is also an additional class to modify plugin appearance in command line:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.cli_plugin</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">CliPlugin</span>

<span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyPlugin</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Converter</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">CliPlugin</span><span style="color:#000;font-weight:bold">):</span>
  <span style="color:#4e9a06">&#34;&#34;&#34;
</span><span style="color:#4e9a06">    Optional documentation text, which will appear in command-line help
</span><span style="color:#4e9a06">  &#34;&#34;&#34;</span>

  <span style="color:#000">NAME</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;optional_custom_plugin_name&#39;</span>

  <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">build_cmdline_parser</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">**</span><span style="color:#000">kwargs</span><span style="color:#000;font-weight:bold">):</span>
    <span style="color:#000">parser</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">super</span><span style="color:#000;font-weight:bold">()</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">build_cmdline_parser</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">**</span><span style="color:#000">kwargs</span><span style="color:#000;font-weight:bold">)</span>
    <span style="color:#8f5902;font-style:italic"># set up argparse.ArgumentParser instance</span>
    <span style="color:#8f5902;font-style:italic"># the parsed args are supposed to be used as invocation options</span>
    <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">parser</span>
</code></pre></div><h4 id="plugin-example">Plugin example</h4>
<!--lint disable fenced-code-flag-->
<pre><code>datumaro/plugins/
- my_plugin1/file1.py
- my_plugin1/file2.py
- my_plugin2.py
</code></pre><!--lint enable fenced-code-flag-->
<p><code>my_plugin1/file2.py</code> contents:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.extractor</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Transform</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">CliPlugin</span>
<span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">.file1</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">something</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">useful</span>

<span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyTransform</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Transform</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">CliPlugin</span><span style="color:#000;font-weight:bold">):</span>
    <span style="color:#000">NAME</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;custom_name&#34;</span> <span style="color:#8f5902;font-style:italic"># could be generated automatically</span>

    <span style="color:#4e9a06">&#34;&#34;&#34;
</span><span style="color:#4e9a06">    Some description. The text will be displayed in the command line output.
</span><span style="color:#4e9a06">    &#34;&#34;&#34;</span>

    <span style="color:#5c35cc;font-weight:bold">@classmethod</span>
    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">build_cmdline_parser</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">cls</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">**</span><span style="color:#000">kwargs</span><span style="color:#000;font-weight:bold">):</span>
        <span style="color:#000">parser</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">super</span><span style="color:#000;font-weight:bold">()</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">build_cmdline_parser</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">**</span><span style="color:#000">kwargs</span><span style="color:#000;font-weight:bold">)</span>
        <span style="color:#000">parser</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">add_argument</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;-q&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">help</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;Very useful parameter&#34;</span><span style="color:#000;font-weight:bold">)</span>
        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">parser</span>

    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">__init__</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">extractor</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">q</span><span style="color:#000;font-weight:bold">):</span>
        <span style="color:#204a87">super</span><span style="color:#000;font-weight:bold">()</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">__init__</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">extractor</span><span style="color:#000;font-weight:bold">)</span>
        <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">q</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">q</span>

    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">transform_item</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">item</span><span style="color:#000;font-weight:bold">):</span>
        <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">item</span>
</code></pre></div><p><code>my_plugin2.py</code> contents:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">datumaro.components.extractor</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">Extractor</span>

<span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyFormat</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">...</span>
<span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">_MyFormatConverter</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Converter</span><span style="color:#000;font-weight:bold">):</span> <span style="color:#ce5c00;font-weight:bold">...</span>
<span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MyFormatExtractor</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Extractor</span><span style="color:#000;font-weight:bold">):</span> <span style="color:#ce5c00;font-weight:bold">...</span>

<span style="color:#000">exports</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#000">MyFormat</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#8f5902;font-style:italic"># explicit exports declaration</span>
<span style="color:#8f5902;font-style:italic"># MyFormatExtractor and _MyFormatConverter won&#39;t be exported</span>
</code></pre></div><h2 id="command-line">Command-line</h2>
<p>Basically, the interface is divided on contexts and single commands.
Contexts are semantically grouped commands, related to a single topic or target.
Single commands are handy shorter alternatives for the most used commands
and also special commands, which are hard to be put into any specific context.
<a href="https://www.docker.com/">Docker</a> is an example of similar approach.</p>
<div class="text-center large-scheme">
<pre><code class="language-mermaid" data-lang="mermaid">flowchart LR
    d{datum}
    p((project))
    s((source))
    m((model))
    d==&gt;p
    p==create===&gt;str1([Creates a Datumaro project])
    p==import===&gt;str2([Generates a project from other project or dataset in specific format])
    p==export===&gt;str3([Saves dataset in a specific format])
    p==extract===&gt;str4([Extracts subproject by filter])
    p==merge===&gt;str5([Adds new items to project])
    p==diff===&gt;str6([Compares two projects])
    p==transform===&gt;str7([Applies specific transformation to the dataset])
    p==info===&gt;str8([Outputs valuable info])
    d==&gt;s
    s==add===&gt;str9([Adds data source by its URL])
    s==remove===&gt;str10([Remove source dataset])
    d==&gt;m
    m==add===&gt;str11([Registers model for inference])
    m==remove===&gt;str12([Removes model from project])
    m==run===&gt;str13([Executes network for inference])
    d==&gt;c(create)===&gt;str14([Calls project create])
    d==&gt;a(add)===&gt;str15([Calls source add])
    d==&gt;r(remove)===&gt;str16([Calls source remove])
    d==&gt;e(export)===&gt;str17([Calls project export])
    d==&gt;exp(explain)===&gt;str18([Runs inference explanation])
</code></pre></div>
<p>Model-View-ViewModel (MVVM) UI pattern is used.</p>
<div class="text-center">
<pre><code class="language-mermaid" data-lang="mermaid">flowchart LR
    c((CLI))&lt;--CliModel---&gt;d((Domain))
    g((GUI))&lt;--GuiModel---&gt;d
    a((API))&lt;---&gt;d
    t((Tests))&lt;---&gt;d
</code></pre></div>

	
	
	<div class="text-muted mt-5 pt-3 border-top">

</div>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-2 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="" aria-label="">
    <a class="text-white" rel="noopener noreferrer" href="">
      <i class=""></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-2 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" rel="noopener noreferrer" href="https://github.com/openvinotoolkit/datumaro">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-8 text-center order-sm-2">
        <small class="mr-1"><a href="https://www.intel.com/content/www/us/en/privacy/intel-privacy-notice.html">Privacy Policy</a></small>
        |
        <small class="mx-1"><a href="https://www.intel.com/content/www/us/en/legal/terms-of-use.html">Terms of Use</a></small>
        <br/>
        <div class="footer-disclaimer text-white ">
          <small>Intel technologies may require enabled hardware, software or service activation. // No product or component can be absolutely secure. // Your costs and results may vary. // Performance varies by use, configuration and other factors. // See our complete legal <u><a href="https://edc.intel.com/content/www/us/en/products/performance/benchmarks/overview/?r=219444055">Notices and Disclaimers</a></u>. // Intel is committed to respecting human rights and avoiding complicity in human rights abuses. See Intel’s <a href="https://www.intel.com/content/www/us/en/policy/policy-human-rights.html"><u>Global Human Rights Principles</u></a>. Intel’s products and software are intended only to be used in applications that do not cause or contribute to a violation of an internationally recognized human right.</small>
        </div>
        
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>


<script src="https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js" integrity="sha384-uQikAXnCAqsMb3ygtdqBYvcwvHUkzGIpjdGyy9owhURXHUxLC5LgTcSxJQH/RzjK" crossorigin="anonymous"></script>





 













<script src="../../js/main.min.ee00f42d1b949caa55ccf416202998d65afac8f58091e2719c89d4fc3518550e.js" integrity="sha256-7gD0LRuUnKpVzPQWICmY1lr6yPWAkeJxnInU/DUYVQ4=" crossorigin="anonymous"></script>



<script src='../../js/prism.js'></script>



  </body>
</html>